(window["webpackJsonp"] = window["webpackJsonp"] || []).push([["main"],{

/***/ "./node_modules/@ionic/core/dist/esm-es5 lazy recursive ^\\.\\/.*\\.entry\\.js$ include: \\.entry\\.js$ exclude: \\.system\\.entry\\.js$":
/*!*********************************************************************************************************************************************!*\
  !*** ./node_modules/@ionic/core/dist/esm-es5 lazy ^\.\/.*\.entry\.js$ include: \.entry\.js$ exclude: \.system\.entry\.js$ namespace object ***!
  \*********************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var map = {
	"./ion-action-sheet-controller_8.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-action-sheet-controller_8.entry.js",
		"common",
		12
	],
	"./ion-action-sheet-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-action-sheet-ios.entry.js",
		"common",
		13
	],
	"./ion-action-sheet-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-action-sheet-md.entry.js",
		"common",
		14
	],
	"./ion-alert-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-alert-ios.entry.js",
		"common",
		15
	],
	"./ion-alert-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-alert-md.entry.js",
		"common",
		16
	],
	"./ion-app_8-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-app_8-ios.entry.js",
		0,
		"common",
		17
	],
	"./ion-app_8-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-app_8-md.entry.js",
		0,
		"common",
		18
	],
	"./ion-avatar_3-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-avatar_3-ios.entry.js",
		"common",
		19
	],
	"./ion-avatar_3-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-avatar_3-md.entry.js",
		"common",
		20
	],
	"./ion-back-button-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-back-button-ios.entry.js",
		"common",
		21
	],
	"./ion-back-button-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-back-button-md.entry.js",
		"common",
		22
	],
	"./ion-backdrop-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-backdrop-ios.entry.js",
		23
	],
	"./ion-backdrop-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-backdrop-md.entry.js",
		24
	],
	"./ion-button_2-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-button_2-ios.entry.js",
		"common",
		25
	],
	"./ion-button_2-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-button_2-md.entry.js",
		"common",
		26
	],
	"./ion-card_5-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-card_5-ios.entry.js",
		"common",
		27
	],
	"./ion-card_5-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-card_5-md.entry.js",
		"common",
		28
	],
	"./ion-checkbox-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-checkbox-ios.entry.js",
		"common",
		29
	],
	"./ion-checkbox-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-checkbox-md.entry.js",
		"common",
		30
	],
	"./ion-chip-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-chip-ios.entry.js",
		"common",
		31
	],
	"./ion-chip-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-chip-md.entry.js",
		"common",
		32
	],
	"./ion-col_3.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-col_3.entry.js",
		33
	],
	"./ion-datetime_3-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-datetime_3-ios.entry.js",
		"common",
		34
	],
	"./ion-datetime_3-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-datetime_3-md.entry.js",
		"common",
		35
	],
	"./ion-fab_3-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-fab_3-ios.entry.js",
		"common",
		36
	],
	"./ion-fab_3-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-fab_3-md.entry.js",
		"common",
		37
	],
	"./ion-img.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-img.entry.js",
		38
	],
	"./ion-infinite-scroll_2-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-infinite-scroll_2-ios.entry.js",
		"common",
		39
	],
	"./ion-infinite-scroll_2-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-infinite-scroll_2-md.entry.js",
		"common",
		40
	],
	"./ion-input-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-input-ios.entry.js",
		"common",
		41
	],
	"./ion-input-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-input-md.entry.js",
		"common",
		42
	],
	"./ion-item-option_3-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-item-option_3-ios.entry.js",
		"common",
		43
	],
	"./ion-item-option_3-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-item-option_3-md.entry.js",
		"common",
		44
	],
	"./ion-item_8-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-item_8-ios.entry.js",
		"common",
		45
	],
	"./ion-item_8-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-item_8-md.entry.js",
		"common",
		46
	],
	"./ion-loading-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-loading-ios.entry.js",
		"common",
		47
	],
	"./ion-loading-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-loading-md.entry.js",
		"common",
		48
	],
	"./ion-menu_4-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-menu_4-ios.entry.js",
		"common",
		49
	],
	"./ion-menu_4-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-menu_4-md.entry.js",
		"common",
		50
	],
	"./ion-modal-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-modal-ios.entry.js",
		0,
		"common",
		51
	],
	"./ion-modal-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-modal-md.entry.js",
		0,
		"common",
		52
	],
	"./ion-nav_5.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-nav_5.entry.js",
		0,
		"common",
		53
	],
	"./ion-popover-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-popover-ios.entry.js",
		0,
		"common",
		54
	],
	"./ion-popover-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-popover-md.entry.js",
		0,
		"common",
		55
	],
	"./ion-progress-bar-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-progress-bar-ios.entry.js",
		"common",
		56
	],
	"./ion-progress-bar-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-progress-bar-md.entry.js",
		"common",
		57
	],
	"./ion-radio_2-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-radio_2-ios.entry.js",
		"common",
		58
	],
	"./ion-radio_2-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-radio_2-md.entry.js",
		"common",
		59
	],
	"./ion-range-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-range-ios.entry.js",
		"common",
		60
	],
	"./ion-range-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-range-md.entry.js",
		"common",
		61
	],
	"./ion-refresher_2-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-refresher_2-ios.entry.js",
		"common",
		62
	],
	"./ion-refresher_2-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-refresher_2-md.entry.js",
		"common",
		63
	],
	"./ion-reorder_2-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-reorder_2-ios.entry.js",
		"common",
		64
	],
	"./ion-reorder_2-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-reorder_2-md.entry.js",
		"common",
		65
	],
	"./ion-ripple-effect.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-ripple-effect.entry.js",
		66
	],
	"./ion-route_4.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-route_4.entry.js",
		"common",
		67
	],
	"./ion-searchbar-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-searchbar-ios.entry.js",
		"common",
		68
	],
	"./ion-searchbar-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-searchbar-md.entry.js",
		"common",
		69
	],
	"./ion-segment_2-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-segment_2-ios.entry.js",
		"common",
		70
	],
	"./ion-segment_2-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-segment_2-md.entry.js",
		"common",
		71
	],
	"./ion-select_3-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-select_3-ios.entry.js",
		"common",
		72
	],
	"./ion-select_3-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-select_3-md.entry.js",
		"common",
		73
	],
	"./ion-slide_2-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-slide_2-ios.entry.js",
		74
	],
	"./ion-slide_2-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-slide_2-md.entry.js",
		75
	],
	"./ion-spinner.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-spinner.entry.js",
		"common",
		76
	],
	"./ion-split-pane-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-split-pane-ios.entry.js",
		77
	],
	"./ion-split-pane-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-split-pane-md.entry.js",
		78
	],
	"./ion-tab-bar_2-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-tab-bar_2-ios.entry.js",
		"common",
		79
	],
	"./ion-tab-bar_2-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-tab-bar_2-md.entry.js",
		"common",
		80
	],
	"./ion-tab_2.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-tab_2.entry.js",
		"common",
		9
	],
	"./ion-text.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-text.entry.js",
		"common",
		81
	],
	"./ion-textarea-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-textarea-ios.entry.js",
		"common",
		82
	],
	"./ion-textarea-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-textarea-md.entry.js",
		"common",
		83
	],
	"./ion-toast-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-toast-ios.entry.js",
		"common",
		84
	],
	"./ion-toast-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-toast-md.entry.js",
		"common",
		85
	],
	"./ion-toggle-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-toggle-ios.entry.js",
		"common",
		86
	],
	"./ion-toggle-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-toggle-md.entry.js",
		"common",
		87
	],
	"./ion-virtual-scroll.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-virtual-scroll.entry.js",
		88
	]
};
function webpackAsyncContext(req) {
	var ids = map[req];
	if(!ids) {
		return Promise.resolve().then(function() {
			var e = new Error("Cannot find module '" + req + "'");
			e.code = 'MODULE_NOT_FOUND';
			throw e;
		});
	}
	return Promise.all(ids.slice(1).map(__webpack_require__.e)).then(function() {
		var id = ids[0];
		return __webpack_require__(id);
	});
}
webpackAsyncContext.keys = function webpackAsyncContextKeys() {
	return Object.keys(map);
};
webpackAsyncContext.id = "./node_modules/@ionic/core/dist/esm-es5 lazy recursive ^\\.\\/.*\\.entry\\.js$ include: \\.entry\\.js$ exclude: \\.system\\.entry\\.js$";
module.exports = webpackAsyncContext;

/***/ }),

/***/ "./src/$$_lazy_route_resource lazy recursive":
/*!**********************************************************!*\
  !*** ./src/$$_lazy_route_resource lazy namespace object ***!
  \**********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var map = {
	"../digitize-package/digitize-package.module": [
		"./src/app/pages/digitize-package/digitize-package.module.ts",
		"digitize-package-digitize-package-module"
	],
	"../home/home.module": [
		"./src/app/pages/home/home.module.ts",
		"common",
		"home-home-module"
	],
	"../image-selection/image-selection.module": [
		"./src/app/pages/image-selection/image-selection.module.ts"
	],
	"../orders/orders.module": [
		"./src/app/pages/orders/orders.module.ts",
		"common",
		"orders-orders-module"
	],
	"../tabs/tabs.module": [
		"./src/app/pages/tabs/tabs.module.ts",
		"tabs-tabs-module"
	],
	"../vector-package/vector-package.module": [
		"./src/app/pages/vector-package/vector-package.module.ts",
		"vector-package-vector-package-module"
	],
	"./pages/inbox/inbox.module": [
		"./src/app/pages/inbox/inbox.module.ts",
		"pages-inbox-inbox-module"
	],
	"./pages/login/login.module": [
		"./src/app/pages/login/login.module.ts",
		"pages-login-login-module"
	],
	"./pages/menu/menu.module": [
		"./src/app/pages/menu/menu.module.ts",
		"pages-menu-menu-module"
	],
	"./pages/register/register.module": [
		"./src/app/pages/register/register.module.ts",
		"pages-register-register-module"
	]
};
function webpackAsyncContext(req) {
	var ids = map[req];
	if(!ids) {
		return Promise.resolve().then(function() {
			var e = new Error("Cannot find module '" + req + "'");
			e.code = 'MODULE_NOT_FOUND';
			throw e;
		});
	}
	return Promise.all(ids.slice(1).map(__webpack_require__.e)).then(function() {
		var id = ids[0];
		return __webpack_require__(id);
	});
}
webpackAsyncContext.keys = function webpackAsyncContextKeys() {
	return Object.keys(map);
};
webpackAsyncContext.id = "./src/$$_lazy_route_resource lazy recursive";
module.exports = webpackAsyncContext;

/***/ }),

/***/ "./src/app/app-routing.module.ts":
/*!***************************************!*\
  !*** ./src/app/app-routing.module.ts ***!
  \***************************************/
/*! exports provided: AppRoutingModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AppRoutingModule", function() { return AppRoutingModule; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _guards_app_guard__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./guards/app.guard */ "./src/app/guards/app.guard.ts");




var routes = [
    { path: '', redirectTo: 'menu/tabs', pathMatch: 'full', canActivate: [_guards_app_guard__WEBPACK_IMPORTED_MODULE_3__["AppGuard"]] },
    { path: 'login', loadChildren: './pages/login/login.module#LoginPageModule' },
    { path: 'menu', loadChildren: './pages/menu/menu.module#MenuPageModule', canActivate: [_guards_app_guard__WEBPACK_IMPORTED_MODULE_3__["AppGuard"]] },
    { path: 'register', loadChildren: './pages/register/register.module#RegisterPageModule' },
    { path: 'inbox', loadChildren: './pages/inbox/inbox.module#InboxPageModule', canActivate: [_guards_app_guard__WEBPACK_IMPORTED_MODULE_3__["AppGuard"]] },
];
var AppRoutingModule = /** @class */ (function () {
    function AppRoutingModule() {
    }
    AppRoutingModule = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["NgModule"])({
            imports: [_angular_router__WEBPACK_IMPORTED_MODULE_2__["RouterModule"].forRoot(routes)],
            exports: [_angular_router__WEBPACK_IMPORTED_MODULE_2__["RouterModule"]]
        })
    ], AppRoutingModule);
    return AppRoutingModule;
}());



/***/ }),

/***/ "./src/app/app.component.html":
/*!************************************!*\
  !*** ./src/app/app.component.html ***!
  \************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<ion-app>\n  <ion-router-outlet></ion-router-outlet>\n</ion-app>\n"

/***/ }),

/***/ "./src/app/app.component.ts":
/*!**********************************!*\
  !*** ./src/app/app.component.ts ***!
  \**********************************/
/*! exports provided: AppComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AppComponent", function() { return AppComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _ionic_native_fcm_ngx__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @ionic-native/fcm/ngx */ "./node_modules/@ionic-native/fcm/ngx/index.js");
/* harmony import */ var src_app_providers_toast_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! src/app/providers/toast.service */ "./src/app/providers/toast.service.ts");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/dist/fesm5.js");
/* harmony import */ var _ionic_native_splash_screen_ngx__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @ionic-native/splash-screen/ngx */ "./node_modules/@ionic-native/splash-screen/ngx/index.js");
/* harmony import */ var _ionic_native_status_bar_ngx__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @ionic-native/status-bar/ngx */ "./node_modules/@ionic-native/status-bar/ngx/index.js");
/* harmony import */ var src_app_providers_user__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! src/app/providers/user */ "./src/app/providers/user.ts");
/* harmony import */ var _angular_fire_auth__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @angular/fire/auth */ "./node_modules/@angular/fire/auth/index.js");
/* harmony import */ var _ionic_native_file_transfer_ngx__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @ionic-native/file-transfer/ngx */ "./node_modules/@ionic-native/file-transfer/ngx/index.js");
/* harmony import */ var src_app_providers_order__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! src/app/providers/order */ "./src/app/providers/order.ts");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");



//import { FirebaseX } from "@ionic-native/firebase-x/ngx";
//import { Firebase } from '@ionic-native/firebase/ngx';





//import { FcmService } from 'src/app/providers/fcm.service';




var AppComponent = /** @class */ (function () {
    function AppComponent(platform, 
    //private firebase: FCM, 
    fcm, router, navCtrl, 
    // private firebase: FirebaseX,
    orderService, user, 
    // private fcm:firebase,
    toast, afAuth, splashscreen, fileTransfer, statusBar, menu, alertCtrl) {
        //this.user.badgeset(12);
        var _this = this;
        this.platform = platform;
        this.fcm = fcm;
        this.router = router;
        this.navCtrl = navCtrl;
        this.orderService = orderService;
        this.user = user;
        this.toast = toast;
        this.afAuth = afAuth;
        this.splashscreen = splashscreen;
        this.fileTransfer = fileTransfer;
        this.statusBar = statusBar;
        this.menu = menu;
        this.alertCtrl = alertCtrl;
        this.showSplash = true; // <-- show animation
        this.afAuth.authState.subscribe(function (res) {
            console.log(res);
            if (res != null) {
                console.log("user id:" + res.uid);
                _this.userid = res.uid;
                //this.getToken();
                _this.initializeApp();
                _this.getToken();
            }
            else {
                //this.navCtrl.navigateRoot('/login');
            }
        }, function (err) {
            console.log(err);
            //this.toast.presentToast('unable to find logged in user','danger');
        });
    }
    AppComponent.prototype.initializeApp = function () {
        var _this = this;
        this.platform.ready().then(function () {
            _this.splashscreen.hide();
            //  setTimeout(() => {
            _this.showSplash = false;
            //       }, 5000);
            // timer(3000).subscribe(() => this.showSplash = false); // <-- hide animation after 3s
            // this.user.badgeset(12);
            //this.user.badgeincrement();
            console.log('fileTransfer: ');
            console.log(JSON.stringify(_this.fileTransfer));
            var fileTransfer = _this.fileTransfer.create();
            console.log('created fileTransfer: ');
            console.log(JSON.stringify(fileTransfer));
            //
            _this.orderService.settfiletransfer(fileTransfer);
            // let dat={
            //       title:"40% OFF DISCOUNT",
            //       body:"get 40% OFF discount on any purchases this month",
            //       wasTapped:true,
            //     };
            //     console.log(dat);
            //      this.user.sendinbox(dat).subscribe((msg)=>{
            //       console.log(msg);
            //      });
            // this.user.sendinbox(data);
            var time = new Date();
            console.log("ï am ready" + time);
            _this.getToken();
            _this.subscribeToTopic();
            _this.fcm.onNotification().subscribe(function (data) {
                //this.firebase.onMessageReceived().subscribe(data => {
                console.log(data);
                if (data.tap == 'background') {
                    console.log("Received in background");
                    console.log(data);
                    console.log(data.title);
                    var dat = {
                        user: _this.userid,
                        title: data.title,
                        body: data.body,
                        wasTapped: data.wasTapped,
                    };
                    console.log(dat);
                    _this.user.sendinbox(dat).subscribe(function (msg) {
                        console.log(msg);
                        _this.user.badgeincrement();
                    });
                    //  this.user.badgeincrement();
                }
                else {
                    console.log("Received in foreground");
                    console.log(data);
                    console.log(data.title);
                    var dat = {
                        user: _this.userid,
                        title: data.title,
                        body: data.body,
                        wasTapped: data.wasTapped,
                    };
                    console.log(dat);
                    _this.user.sendinbox(dat).subscribe(function (msg) {
                        console.log(msg);
                        _this.user.badgeincrement();
                    });
                    // this.user.badgeincrement();
                }
                ;
            });
            _this.fcm.onTokenRefresh().subscribe(function (token) {
                console.log("Token refreshed:" + token);
                // Register your new token in your back-end if you want
                // backend.registerToken(token);
            });
            // this.notificationSetup();
            _this.statusBar.styleDefault();
            // setTimeout(() => {
            //          this.splashScreen.hide();
            //         }, 5000);
        });
        this.platform.backButton.subscribe(function () { return tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"](_this, void 0, void 0, function () {
            var element, error_1, buttons;
            var _this = this;
            return tslib__WEBPACK_IMPORTED_MODULE_0__["__generator"](this, function (_a) {
                switch (_a.label) {
                    case 0:
                        _a.trys.push([0, 2, , 3]);
                        return [4 /*yield*/, this.menu.getOpen()];
                    case 1:
                        element = _a.sent();
                        if (element) {
                            this.menu.close();
                            return [2 /*return*/];
                        }
                        return [3 /*break*/, 3];
                    case 2:
                        error_1 = _a.sent();
                        return [3 /*break*/, 3];
                    case 3:
                        // Catches the active view
                        //let nav = this.app.getActiveNavs()[0];
                        //let activeView = nav.getActive();                
                        // Checks if can go back before show up the alert
                        //   if(activeView.name === 'Home') {
                        if (this.routerOutlet && this.routerOutlet.canGoBack()) {
                            this.routerOutlet.pop();
                            //  nav.pop();
                        }
                        else {
                            buttons = [{
                                    text: 'Cancel',
                                    role: 'cancel',
                                    handler: function () {
                                        _this.navCtrl.navigateRoot('/menu/tabs/home');
                                        console.log('** Saída do App Cancelada! **');
                                    }
                                }, {
                                    text: 'Exit App',
                                    handler: function () {
                                        //  this.logout();
                                        // this.platform.exitApp();
                                        navigator['app'].exitApp();
                                    }
                                }];
                            this.newAlert('Close App', 'Are you sure you want to exit app?', buttons);
                            // const alert =  this.alertCtrl.create({
                            //     header: 'Close App',
                            //     message: 'Are you sure you want to exit app?',
                            //     buttons: [{
                            //         text: 'Cancel',
                            //         role: 'cancel',
                            //         handler: () => {
                            //           this.routerOutlet.setRoot('Home');
                            //           console.log('** Saída do App Cancelada! **');
                            //         }
                            //     },{
                            //         text: 'Exit App',
                            //         handler: () => {
                            //         //  this.logout();
                            //           this.platform.exitApp();
                            //           navigator['app'].exitApp();
                            //         }
                            //     }]
                            // });
                            // alert.present();
                        }
                        return [2 /*return*/];
                }
            });
        }); });
    };
    AppComponent.prototype.newAlert = function (title, message, buttons) {
        return tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"](this, void 0, void 0, function () {
            var alert;
            return tslib__WEBPACK_IMPORTED_MODULE_0__["__generator"](this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.alertCtrl.create({
                            header: title,
                            message: message,
                            buttons: buttons
                        })];
                    case 1:
                        alert = _a.sent();
                        alert.present();
                        return [2 /*return*/];
                }
            });
        });
    };
    AppComponent.prototype.subscribeToTopic = function () {
        this.fcm.subscribeToTopic('Deals');
        //this.firebase.subscribe('Deals');
        console.log("Success subscribing to topic Deals");
    };
    AppComponent.prototype.getToken = function () {
        var _this = this;
        console.log("getting token");
        // let  tok={
        //    token: 'fVn53arbRGg:APA91bGZ0ipTiis0YFJxkPGqwNG5BwuhtFLK4eiRq2HSp9Rd7IqDS25WILmbFzENYiqXamMsRBOk3vEd1C-AcrQ3sCDInu3OURAmhaPXxSFDdNeNfhHpjioeVWrCRyqTdMky3eFkSsoH'
        //  }
        //   console.log(tok);
        //   console.log(this.userid);
        //  // Register your new token in your back-end if you want
        //   this.user.registerToken(tok,this.userid).subscribe(user=>{
        //       console.log("Success Registering user token");
        //    console.log(user);
        //   },err=>{
        //     console.log(err);
        //   });
        this.fcm.getToken().then(function (token) {
            // this.firebase.getToken().then(token => {
            console.log("Success receiving token:" + token);
            var tok = {
                token: token
            };
            console.log(tok);
            // Register your new token in your back-end if you want
            _this.user.registerToken(tok, _this.userid).subscribe(function (user) {
                console.log("user update");
                console.log(user);
            }, function (err) {
                console.log("error update user ");
                console.log(err);
            });
        });
    };
    AppComponent.prototype.unsubscribeFromTopic = function () {
        this.fcm.unsubscribeFromTopic('Deals');
        // this.firebase.unsubscribe('Deals');
    };
    tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ViewChild"])(_ionic_angular__WEBPACK_IMPORTED_MODULE_4__["IonRouterOutlet"]),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", _ionic_angular__WEBPACK_IMPORTED_MODULE_4__["IonRouterOutlet"])
    ], AppComponent.prototype, "routerOutlet", void 0);
    AppComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
            selector: 'app-root',
            template: __webpack_require__(/*! ./app.component.html */ "./src/app/app.component.html")
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_ionic_angular__WEBPACK_IMPORTED_MODULE_4__["Platform"],
            _ionic_native_fcm_ngx__WEBPACK_IMPORTED_MODULE_2__["FCM"],
            _angular_router__WEBPACK_IMPORTED_MODULE_11__["Router"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_4__["NavController"],
            src_app_providers_order__WEBPACK_IMPORTED_MODULE_10__["OrderProvider"],
            src_app_providers_user__WEBPACK_IMPORTED_MODULE_7__["UserProvider"],
            src_app_providers_toast_service__WEBPACK_IMPORTED_MODULE_3__["ToastService"],
            _angular_fire_auth__WEBPACK_IMPORTED_MODULE_8__["AngularFireAuth"],
            _ionic_native_splash_screen_ngx__WEBPACK_IMPORTED_MODULE_5__["SplashScreen"],
            _ionic_native_file_transfer_ngx__WEBPACK_IMPORTED_MODULE_9__["FileTransfer"],
            _ionic_native_status_bar_ngx__WEBPACK_IMPORTED_MODULE_6__["StatusBar"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_4__["MenuController"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_4__["AlertController"]])
    ], AppComponent);
    return AppComponent;
}());



/***/ }),

/***/ "./src/app/app.module.ts":
/*!*******************************!*\
  !*** ./src/app/app.module.ts ***!
  \*******************************/
/*! exports provided: AppModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AppModule", function() { return AppModule; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_platform_browser__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/platform-browser */ "./node_modules/@angular/platform-browser/fesm5/platform-browser.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _ionic_native_network_ngx__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @ionic-native/network/ngx */ "./node_modules/@ionic-native/network/ngx/index.js");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/dist/fesm5.js");
/* harmony import */ var _ionic_native_splash_screen_ngx__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @ionic-native/splash-screen/ngx */ "./node_modules/@ionic-native/splash-screen/ngx/index.js");
/* harmony import */ var _ionic_native_status_bar_ngx__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @ionic-native/status-bar/ngx */ "./node_modules/@ionic-native/status-bar/ngx/index.js");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm5/http.js");
/* harmony import */ var _app_component__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./app.component */ "./src/app/app.component.ts");
/* harmony import */ var _app_routing_module__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./app-routing.module */ "./src/app/app-routing.module.ts");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm5/forms.js");
/* harmony import */ var _providers_shared_module__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./providers/shared.module */ "./src/app/providers/shared.module.ts");
/* harmony import */ var _ionic_storage__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @ionic/storage */ "./node_modules/@ionic/storage/fesm5/ionic-storage.js");
/* harmony import */ var _pages_details_details_module__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./pages/details/details.module */ "./src/app/pages/details/details.module.ts");
/* harmony import */ var _pages_crop_modal_crop_modal_module__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./pages/crop-modal/crop-modal.module */ "./src/app/pages/crop-modal/crop-modal.module.ts");
/* harmony import */ var _pages_image_selection_image_selection_module__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./pages/image-selection/image-selection.module */ "./src/app/pages/image-selection/image-selection.module.ts");
/* harmony import */ var _pages_image_preview_image_preview_module__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./pages/image-preview/image-preview.module */ "./src/app/pages/image-preview/image-preview.module.ts");
/* harmony import */ var _angular_platform_browser_animations__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! @angular/platform-browser/animations */ "./node_modules/@angular/platform-browser/fesm5/animations.js");
/* harmony import */ var _angular_fire__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! @angular/fire */ "./node_modules/@angular/fire/index.js");
/* harmony import */ var firebase_app__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! firebase/app */ "./node_modules/firebase/app/dist/index.cjs.js");
/* harmony import */ var firebase_app__WEBPACK_IMPORTED_MODULE_20___default = /*#__PURE__*/__webpack_require__.n(firebase_app__WEBPACK_IMPORTED_MODULE_20__);
/* harmony import */ var _angular_fire_auth__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! @angular/fire/auth */ "./node_modules/@angular/fire/auth/index.js");
/* harmony import */ var _ionic_native_google_plus_ngx__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! @ionic-native/google-plus/ngx */ "./node_modules/@ionic-native/google-plus/ngx/index.js");
/* harmony import */ var _angular_fire_storage__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! @angular/fire/storage */ "./node_modules/@angular/fire/storage/index.js");
/* harmony import */ var _ionic_native_fcm_ngx__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! @ionic-native/fcm/ngx */ "./node_modules/@ionic-native/fcm/ngx/index.js");
/* harmony import */ var _ionic_native_badge_ngx__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! @ionic-native/badge/ngx */ "./node_modules/@ionic-native/badge/ngx/index.js");
/* harmony import */ var _providers_config__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ./providers/config */ "./src/app/providers/config.ts");
























//import { Firebase } from '@ionic-native/firebase/ngx';
//import { GooglePlus } from '@ionic-native/google-plus';
//import { GooglePlus } from '@ionic-native/google-plus/ngx';



//import { AngularCropperjsModule } from 'angular-cropperjs';
//import { OrderTransform} from './providers/ordertransform.pipe';
// const firebaseConfig = {
//   apiKey: 'AIzaSyCAhXUlVY5wuR844A8S9vgHAL2ywercd98Y3-w',
//   authDomain: 'snaptovrtector.firebaseapp.com',
//   databaseURL: 'https://snaptovrtector.firebraseio.com',
//   projectId: 'snaptovector',
//   storageBucket: 'snaptovreector.appspeot.com',
//   messagingSenderId: '94225640372918',
//   appId: '1:942240372918:web:c56e88f13e536b676e'
// };
var firebaseConfig = _providers_config__WEBPACK_IMPORTED_MODULE_26__["CONFIGS"].firebaseConfig;
var AppModule = /** @class */ (function () {
    // Initialize Firebase
    function AppModule() {
        firebase_app__WEBPACK_IMPORTED_MODULE_20__["initializeApp"](firebaseConfig);
    }
    AppModule = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["NgModule"])({
            declarations: [_app_component__WEBPACK_IMPORTED_MODULE_9__["AppComponent"]],
            entryComponents: [],
            imports: [
                _pages_image_selection_image_selection_module__WEBPACK_IMPORTED_MODULE_16__["ImageSelectionPageModule"],
                _angular_platform_browser__WEBPACK_IMPORTED_MODULE_2__["BrowserModule"],
                _angular_platform_browser_animations__WEBPACK_IMPORTED_MODULE_18__["BrowserAnimationsModule"],
                _ionic_angular__WEBPACK_IMPORTED_MODULE_5__["IonicModule"].forRoot(),
                _ionic_storage__WEBPACK_IMPORTED_MODULE_13__["IonicStorageModule"].forRoot(),
                _providers_shared_module__WEBPACK_IMPORTED_MODULE_12__["SharedModule"].forRoot(),
                _angular_fire__WEBPACK_IMPORTED_MODULE_19__["AngularFireModule"].initializeApp(firebaseConfig),
                _angular_fire_auth__WEBPACK_IMPORTED_MODULE_21__["AngularFireAuthModule"],
                _angular_fire_storage__WEBPACK_IMPORTED_MODULE_23__["AngularFireStorageModule"],
                _pages_details_details_module__WEBPACK_IMPORTED_MODULE_14__["DetailsPageModule"],
                _pages_crop_modal_crop_modal_module__WEBPACK_IMPORTED_MODULE_15__["CropModalPageModule"],
                //  AngularCropperjsModule,
                _pages_image_preview_image_preview_module__WEBPACK_IMPORTED_MODULE_17__["ImagePreviewPageModule"],
                _app_routing_module__WEBPACK_IMPORTED_MODULE_10__["AppRoutingModule"],
                _angular_common_http__WEBPACK_IMPORTED_MODULE_8__["HttpClientModule"],
                _angular_forms__WEBPACK_IMPORTED_MODULE_11__["FormsModule"],
                _angular_forms__WEBPACK_IMPORTED_MODULE_11__["ReactiveFormsModule"]
            ],
            providers: [
                _ionic_native_status_bar_ngx__WEBPACK_IMPORTED_MODULE_7__["StatusBar"],
                _ionic_native_splash_screen_ngx__WEBPACK_IMPORTED_MODULE_6__["SplashScreen"],
                _ionic_native_network_ngx__WEBPACK_IMPORTED_MODULE_4__["Network"],
                _ionic_native_fcm_ngx__WEBPACK_IMPORTED_MODULE_24__["FCM"],
                _ionic_native_badge_ngx__WEBPACK_IMPORTED_MODULE_25__["Badge"],
                //Firebase,
                _ionic_native_google_plus_ngx__WEBPACK_IMPORTED_MODULE_22__["GooglePlus"],
                { provide: _angular_router__WEBPACK_IMPORTED_MODULE_3__["RouteReuseStrategy"], useClass: _ionic_angular__WEBPACK_IMPORTED_MODULE_5__["IonicRouteStrategy"] }
            ],
            bootstrap: [_app_component__WEBPACK_IMPORTED_MODULE_9__["AppComponent"]]
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [])
    ], AppModule);
    return AppModule;
}());



/***/ }),

/***/ "./src/app/guards/app.guard.ts":
/*!*************************************!*\
  !*** ./src/app/guards/app.guard.ts ***!
  \*************************************/
/*! exports provided: AppGuard */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AppGuard", function() { return AppGuard; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _angular_fire_auth__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/fire/auth */ "./node_modules/@angular/fire/auth/index.js");
/* harmony import */ var src_app_providers_storage_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! src/app/providers/storage.service */ "./src/app/providers/storage.service.ts");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm5/operators/index.js");






var AppGuard = /** @class */ (function () {
    function AppGuard(router, afAuth, storageService) {
        this.router = router;
        this.afAuth = afAuth;
        this.storageService = storageService;
    }
    AppGuard.prototype.isLoggedIn = function () {
        return this.afAuth.authState.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_5__["first"])()).toPromise();
    };
    AppGuard.prototype.canActivate = function () {
        return tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"](this, void 0, void 0, function () {
            var designer;
            var _this = this;
            return tslib__WEBPACK_IMPORTED_MODULE_0__["__generator"](this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.isLoggedIn().then(function (res) {
                            _this.user = res;
                            console.log(res);
                            return res;
                        })];
                    case 1:
                        designer = _a.sent();
                        // const designer = await this.afAuth.authState.subscribe((res) => {
                        //   console.log(res);
                        //   this.user=res;
                        // console.log(designer.then(res =>{return this.user=res}));
                        console.log(designer);
                        console.log(this.user);
                        if (this.user != null) {
                            if (!this.user.uid) {
                                console.log("its not there");
                                this.router.navigate(['login']);
                                return [2 /*return*/, false];
                            }
                            else {
                                console.log("its  there");
                                return [2 /*return*/, true];
                            }
                        }
                        else {
                            this.router.navigate(['login']);
                            return [2 /*return*/, false];
                        }
                        //return res;
                        // });
                        // console.log(this.user);
                        // console.log(this.user.uid);
                        //       if (!this.user.uid) {
                        //       this.router.navigate(['login']);
                        //       return false;
                        //     }
                        //     return true;
                        console.log(designer);
                        return [2 /*return*/];
                }
            });
        });
    };
    AppGuard = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])({
            providedIn: 'root'
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_angular_router__WEBPACK_IMPORTED_MODULE_2__["Router"],
            _angular_fire_auth__WEBPACK_IMPORTED_MODULE_3__["AngularFireAuth"],
            src_app_providers_storage_service__WEBPACK_IMPORTED_MODULE_4__["StorageService"]])
    ], AppGuard);
    return AppGuard;
}());



/***/ }),

/***/ "./src/app/pages/card-modal/card-modal.module.ts":
/*!*******************************************************!*\
  !*** ./src/app/pages/card-modal/card-modal.module.ts ***!
  \*******************************************************/
/*! exports provided: CardModalPageModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CardModalPageModule", function() { return CardModalPageModule; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm5/forms.js");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/dist/fesm5.js");
/* harmony import */ var _card_modal_page__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./card-modal.page */ "./src/app/pages/card-modal/card-modal.page.ts");
/* harmony import */ var src_app_providers_user__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! src/app/providers/user */ "./src/app/providers/user.ts");







var CardModalPageModule = /** @class */ (function () {
    function CardModalPageModule() {
    }
    CardModalPageModule = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["NgModule"])({
            imports: [
                _angular_common__WEBPACK_IMPORTED_MODULE_2__["CommonModule"],
                _angular_forms__WEBPACK_IMPORTED_MODULE_3__["FormsModule"],
                _ionic_angular__WEBPACK_IMPORTED_MODULE_4__["IonicModule"],
            ],
            declarations: [_card_modal_page__WEBPACK_IMPORTED_MODULE_5__["CardModalPage"]],
            entryComponents: [_card_modal_page__WEBPACK_IMPORTED_MODULE_5__["CardModalPage"]],
            exports: [_card_modal_page__WEBPACK_IMPORTED_MODULE_5__["CardModalPage"]],
            providers: [src_app_providers_user__WEBPACK_IMPORTED_MODULE_6__["UserProvider"]]
        })
    ], CardModalPageModule);
    return CardModalPageModule;
}());



/***/ }),

/***/ "./src/app/pages/card-modal/card-modal.page.html":
/*!*******************************************************!*\
  !*** ./src/app/pages/card-modal/card-modal.page.html ***!
  \*******************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<ion-header>\n  <ion-toolbar>\n    <ion-buttons slot=\"start\">\n      <ion-button slot=\"icon-only\" (click)=\"dismiss()\">\n        <ion-icon name=\"close\"></ion-icon>\n      </ion-button>\n    </ion-buttons>\n    <ion-title>Update Credit Card Details</ion-title>\n  </ion-toolbar>\n</ion-header>\n\n<ion-content padding>\n\n  <form action=\"/\" method=\"post\" #paymentForm>\n\n    <div class=\"form-row\">\n      <div id=\"card-element\">\n        <!-- a Stripe Element will be inserted here. -->\n      </div>\n\n      <!-- Used to display Element errors -->\n      <div #cardErrors role=\"alert\"></div>\n    </div>\n\n    <ion-button color=\"primary\" type=\"submit\" submit margin-top size=\"full\" tappable>Add Credit Card</ion-button>\n         <!--  <button ion-button type=\"submit\" block>Add Todo</button>\n -->\n\n    <ion-row align-items-center padding-bottom padding-left padding-right>\n      <ion-col>\n        <ion-text color=\"primary\">Add your credit card details</ion-text>\n      </ion-col>\n    </ion-row>\n\n\n  </form>\n\n</ion-content>"

/***/ }),

/***/ "./src/app/pages/card-modal/card-modal.page.scss":
/*!*******************************************************!*\
  !*** ./src/app/pages/card-modal/card-modal.page.scss ***!
  \*******************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL2NhcmQtbW9kYWwvY2FyZC1tb2RhbC5wYWdlLnNjc3MifQ== */"

/***/ }),

/***/ "./src/app/pages/card-modal/card-modal.page.ts":
/*!*****************************************************!*\
  !*** ./src/app/pages/card-modal/card-modal.page.ts ***!
  \*****************************************************/
/*! exports provided: CardModalPage */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CardModalPage", function() { return CardModalPage; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/dist/fesm5.js");
/* harmony import */ var _angular_fire_auth__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/fire/auth */ "./node_modules/@angular/fire/auth/index.js");
/* harmony import */ var src_app_providers_toast_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! src/app/providers/toast.service */ "./src/app/providers/toast.service.ts");
/* harmony import */ var src_app_providers_user__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! src/app/providers/user */ "./src/app/providers/user.ts");
/* harmony import */ var src_app_providers_config__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! src/app/providers/config */ "./src/app/providers/config.ts");
/* harmony import */ var src_app_providers_data_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! src/app/providers/data.service */ "./src/app/providers/data.service.ts");
/* harmony import */ var src_app_providers_loading_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! src/app/providers/loading.service */ "./src/app/providers/loading.service.ts");









var CardModalPage = /** @class */ (function () {
    function CardModalPage(afAuth, toast, user, 
    //private stripe: Stripe,
    dataService, modalCtrl, loadingService) {
        var _this = this;
        this.afAuth = afAuth;
        this.toast = toast;
        this.user = user;
        this.dataService = dataService;
        this.modalCtrl = modalCtrl;
        this.loadingService = loadingService;
        this.stripe = Stripe(src_app_providers_config__WEBPACK_IMPORTED_MODULE_6__["CONFIGS"].stripeKey);
        this.afAuth.authState.subscribe(function (users) {
            console.log(users);
            _this.curruser = users;
        });
    }
    CardModalPage.prototype.ngOnInit = function () {
        if (this.dataService.isOnline()) {
            //this.stripe.setPublishableKey(CONFIGS.stripeKey);
            this.setupStripe();
        }
        else {
            this.modalCtrl.dismiss();
            this.toast.presentToast('Network Error,kindly check your internet connection and try again', 'danger');
        }
    };
    CardModalPage.prototype.setupStripe = function () {
        var _this = this;
        var elements = this.stripe.elements();
        var style = {
            base: {
                color: '#32325d',
                lineHeight: '24px',
                fontFamily: '"Helvetica Neue", Helvetica, sans-serif',
                fontSmoothing: 'antialiased',
                fontSize: '16px',
                '::placeholder': {
                    color: '#aab7c4'
                }
            },
            invalid: {
                color: '#fa755a',
                iconColor: '#fa755a'
            }
        };
        this.card = elements.create('card', { style: style });
        this.card.mount('#card-element');
        this.card.addEventListener('change', function (event) {
            console.log("Card");
            var displayError = _this.cardErrors.nativeElement;
            if (event.error) {
                displayError.textContent = event.error.message;
            }
            else {
                displayError.textContent = '';
            }
        });
        var form = this.paymentForm.nativeElement;
        form.addEventListener('submit', function (event) {
            event.preventDefault();
            _this.loadingService.presentLoading();
            // this.stripe.createToken(this.card)
            _this.stripe.createSource(_this.card).then(function (result) {
                console.log(result);
                if (result.error) {
                    var errorElement = _this.cardErrors.nativeElement;
                    errorElement.textContent = result.error.message;
                }
                else {
                    var source_1 = result.source;
                    _this.createdcard = result;
                    _this.afAuth.authState.subscribe(function (user) {
                        console.log(user);
                        _this.user.getUser(_this.curruser.uid).subscribe(function (newuser) { return tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"](_this, void 0, void 0, function () {
                            var iscard, cardSource, cardSource;
                            var _this = this;
                            return tslib__WEBPACK_IMPORTED_MODULE_0__["__generator"](this, function (_a) {
                                this.loadingService.dismissLoading();
                                console.log(newuser);
                                console.log(newuser[0].source);
                                iscard = newuser[0].source;
                                // let iscard;
                                // if (sou.id!== 'undefined') {
                                //    // do something
                                //     iscard=true;
                                //  }
                                //  else{
                                //    iscard=false;
                                //  }
                                if (iscard) {
                                    cardSource = {
                                        source: source_1
                                    };
                                    this.user.updatecredit(cardSource, user.uid)
                                        .subscribe(function (res) { return tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"](_this, void 0, void 0, function () {
                                        return tslib__WEBPACK_IMPORTED_MODULE_0__["__generator"](this, function (_a) {
                                            switch (_a.label) {
                                                case 0:
                                                    console.log(res);
                                                    return [4 /*yield*/, this.modalCtrl.dismiss(this.createdcard)];
                                                case 1:
                                                    _a.sent();
                                                    // await this.loadingService.dismissLoading();
                                                    return [4 /*yield*/, this.toast.presentToast('Card Updated Successfully!', 'dark')];
                                                case 2:
                                                    // await this.loadingService.dismissLoading();
                                                    _a.sent();
                                                    return [2 /*return*/];
                                            }
                                        });
                                    }); }, function (err) {
                                        _this.loadingService.dismissLoading();
                                        _this.toast.presentToast('Card  not Updated !', 'danger');
                                    });
                                }
                                else {
                                    cardSource = {
                                        // 'cus_id': customer.id,      
                                        source: source_1
                                    };
                                    this.user.addCardDetails(cardSource, user.uid)
                                        .subscribe(function (res) { return tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"](_this, void 0, void 0, function () {
                                        return tslib__WEBPACK_IMPORTED_MODULE_0__["__generator"](this, function (_a) {
                                            switch (_a.label) {
                                                case 0:
                                                    console.log(res);
                                                    return [4 /*yield*/, this.modalCtrl.dismiss(this.createdcard)];
                                                case 1:
                                                    _a.sent();
                                                    return [4 /*yield*/, this.toast.presentToast('Card created Successfully!', 'dark')];
                                                case 2:
                                                    _a.sent();
                                                    return [2 /*return*/];
                                            }
                                        });
                                    }); }, function (err) {
                                        _this.loadingService.dismissLoading();
                                        _this.toast.presentToast('Card  not Updated !', 'danger');
                                    });
                                    //  });
                                }
                                return [2 /*return*/];
                            });
                        }); });
                    });
                }
            });
        });
    };
    CardModalPage.prototype.dismiss = function () {
        this.modalCtrl.dismiss(this.createdcard);
        this.loadingService.dismissLoading();
    };
    tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ViewChild"])('cardElement'),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ElementRef"])
    ], CardModalPage.prototype, "cardElement", void 0);
    tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ViewChild"])('paymentForm'),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ElementRef"])
    ], CardModalPage.prototype, "paymentForm", void 0);
    tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ViewChild"])('cardErrors'),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ElementRef"])
    ], CardModalPage.prototype, "cardErrors", void 0);
    CardModalPage = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
            selector: 'app-card-modal',
            template: __webpack_require__(/*! ./card-modal.page.html */ "./src/app/pages/card-modal/card-modal.page.html"),
            styles: [__webpack_require__(/*! ./card-modal.page.scss */ "./src/app/pages/card-modal/card-modal.page.scss")]
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_angular_fire_auth__WEBPACK_IMPORTED_MODULE_3__["AngularFireAuth"],
            src_app_providers_toast_service__WEBPACK_IMPORTED_MODULE_4__["ToastService"],
            src_app_providers_user__WEBPACK_IMPORTED_MODULE_5__["UserProvider"],
            src_app_providers_data_service__WEBPACK_IMPORTED_MODULE_7__["DataService"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_2__["ModalController"],
            src_app_providers_loading_service__WEBPACK_IMPORTED_MODULE_8__["LoadingService"]])
    ], CardModalPage);
    return CardModalPage;
}());



/***/ }),

/***/ "./src/app/pages/checkout/checkout.module.ts":
/*!***************************************************!*\
  !*** ./src/app/pages/checkout/checkout.module.ts ***!
  \***************************************************/
/*! exports provided: CheckoutPageModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CheckoutPageModule", function() { return CheckoutPageModule; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm5/forms.js");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/dist/fesm5.js");
/* harmony import */ var _checkout_page__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./checkout.page */ "./src/app/pages/checkout/checkout.page.ts");
/* harmony import */ var _card_modal_card_modal_module__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../card-modal/card-modal.module */ "./src/app/pages/card-modal/card-modal.module.ts");
/* harmony import */ var src_app_providers_payment__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! src/app/providers/payment */ "./src/app/providers/payment.ts");
/* harmony import */ var src_app_providers_order__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! src/app/providers/order */ "./src/app/providers/order.ts");
/* harmony import */ var angular_cropperjs__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! angular-cropperjs */ "./node_modules/angular-cropperjs/angular-cropperjs.umd.js");
/* harmony import */ var angular_cropperjs__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(angular_cropperjs__WEBPACK_IMPORTED_MODULE_9__);










var CheckoutPageModule = /** @class */ (function () {
    function CheckoutPageModule() {
    }
    CheckoutPageModule = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["NgModule"])({
            imports: [
                _angular_common__WEBPACK_IMPORTED_MODULE_2__["CommonModule"],
                _angular_forms__WEBPACK_IMPORTED_MODULE_3__["FormsModule"],
                _ionic_angular__WEBPACK_IMPORTED_MODULE_4__["IonicModule"],
                _card_modal_card_modal_module__WEBPACK_IMPORTED_MODULE_6__["CardModalPageModule"],
                angular_cropperjs__WEBPACK_IMPORTED_MODULE_9__["AngularCropperjsModule"]
            ],
            declarations: [_checkout_page__WEBPACK_IMPORTED_MODULE_5__["CheckoutPage"]],
            entryComponents: [_checkout_page__WEBPACK_IMPORTED_MODULE_5__["CheckoutPage"]],
            exports: [_checkout_page__WEBPACK_IMPORTED_MODULE_5__["CheckoutPage"]],
            providers: [src_app_providers_payment__WEBPACK_IMPORTED_MODULE_7__["PaymentProvider"], src_app_providers_order__WEBPACK_IMPORTED_MODULE_8__["OrderProvider"]]
        })
    ], CheckoutPageModule);
    return CheckoutPageModule;
}());



/***/ }),

/***/ "./src/app/pages/checkout/checkout.page.html":
/*!***************************************************!*\
  !*** ./src/app/pages/checkout/checkout.page.html ***!
  \***************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<ion-header>\n  <ion-toolbar color=\"primary\">\n    <ion-buttons slot=\"start\">\n      <ion-button (click)=\"close()\" slot=\"icon-only\">\n        <ion-icon name=\"close\"></ion-icon>\n      </ion-button>\n    </ion-buttons>\n    <ion-title>Checkout</ion-title>\n  </ion-toolbar>\n</ion-header>\n\n<ion-content>\n<ion-card  *ngIf=\"package\" name=\"checkoutpackage\" padding>\n    <ion-card-header color=\"primary\">Preview order</ion-card-header>\n    <ion-card-content >\n       <ion-item>\n    <p>Package :<b>{{package.type}}</b>  </p>\n     </ion-item>\n        <ion-item *ngIf=\"package.artwork\" >\n    <p>Artwork :<b>{{package.artwork}}</b>  </p>\n     </ion-item>\n      <ion-item>\n    <p>Amount :<b>${{package.amount}}</b>  </p>\n     </ion-item>\n     <ion-item *ngIf=\"iscoupon\">\n      <form (ngSubmit)=\"applycoupon()\">\n     \n        \n        <ion-label position=\"fixed\">Enter coupon</ion-label>\n         \n \n       <!--  <ion-item> -->\n        \n       \n         <input [(ngModel)]=\"coupon\" name=\"coupon\">\n       \n      <!-- </ion-item> -->\n       <ion-button color=\"success\" type=\"submit\" [disabled]=\"disable\" block>Appy </ion-button>\n    </form>\n       \n        \n     </ion-item>\n     <div>\n\n        <!-- <img src=\"assets/img/image-backgorund.jpg\" padding style=\"width:100%\"> -->\n         <ion-item-divider *ngIf=\"myFile\">\n    <ion-label>\n      Current Image\n    </ion-label>\n  </ion-item-divider>\n <div  *ngIf=\"myFile  && !croped && mobile && !saved\">\n\n   <img class=\"selected_image\" [src]=\"myFile\" width=\"100%\" height=\"100%\" padding>\n\n </div>\n  <div  *ngIf=\"myFile && !croped && !saved && !isCordova\">\n\n   <img class=\"selected_image\" [src]=\"myFile\" width=\"100%\" height=\"100%\" padding>\n\n </div>\n  <div style=\"padding:20px;\" *ngIf=\"myFile && croped && mobile && !saved\">\n      <ion-toolbar color=\"primary\">\n    <ion-buttons slot=\"start\">\n     <ion-button ion-button slot=\"icon-only\"  (click)=\"closecrop()\">\n      <ion-icon name=\"close\"></ion-icon>\n      </ion-button>\n    </ion-buttons>\n    <ion-title>Crop Image</ion-title>\n    <ion-buttons slot=\"end\">\n\n       <ion-button ion-button slot=\"icon-only\" (click)=\"clear()\">\n        Reset\n      </ion-button>\n      <ion-button ion-button slot=\"icon-only\" (click)=\"save()\">\n        <ion-icon name=\"checkmark\"></ion-icon>\n      </ion-button>\n    </ion-buttons>\n  </ion-toolbar>\n \n    <!-- <img class=\"selected_image\" [src]=\"myFile\" width=\"100%\" height=\"100%\" padding> -->\n    <angular-cropper  #angularCropper [imageUrl]=\"myFile\" *ngIf=\"myFile\"></angular-cropper>\n  \n\n  </div>\n\n  <div style=\"padding:20px;\"  *ngIf=\"myFile && croped && !saved && !isCordova\">\n      <ion-toolbar color=\"primary\">\n    <ion-buttons slot=\"start\">\n     <ion-button ion-button slot=\"icon-only\"  (click)=\"reset()\">\n        <ion-icon name=\"close\"></ion-icon>\n      </ion-button>\n    </ion-buttons>\n    <ion-title>Crop Image</ion-title>\n    <ion-buttons slot=\"end\">\n\n       <ion-button ion-button slot=\"icon-only\" (click)=\"clear()\">\n        Reset\n      </ion-button>\n      <ion-button ion-button slot=\"icon-only\" (click)=\"save()\">\n        <ion-icon name=\"checkmark\"></ion-icon>\n      </ion-button>\n    </ion-buttons>\n  </ion-toolbar>\n\n     <!-- <img class=\"selected_image\" [src]=\"myFile\"  width=\"100%\" height=\"100%\" padding> -->\n    \n      <angular-cropper  #angularCropper  [imageUrl]=\"myFile\" *ngIf=\"myFile\"></angular-cropper>\n\n  </div>\n  <div *ngIf=\"saved\">\n    <!-- <img class=\"selected_image\" [src]=\"myFile\" padding> -->\n      <angular-cropper #angularCropper  [imageUrl]=\"myFile\" *ngIf=\"myFile\"></angular-cropper>\n\n  </div>\n\n\n     </div>\n  </ion-card-content>\n </ion-card>\n    <!-- <ion-button [disabled]=\"!card\" (click)=\"makePayment()\" expand=\"block\" color=\"success\">Pay Now with Existing card -->\n      <ion-button  *ngIf=\"card\" (click)=\"makePayment()\" expand=\"block\" color=\"success\">Pay Now with ******{{card.card.last4}}\n      <ion-icon name=\"checkmark-circle\"> </ion-icon>\n     <!--  </ion-button>\n        <ion-button  *ngIf=\"card && !card.card.last4 && !firstorder\" (click)=\"makePayment()\" expand=\"block\" color=\"success\">Pay Now with existing card\n      <ion-icon name=\"checkmark-circle\"> </ion-icon> -->\n\n<!--         <ion-button  (click)=\"makePayment()\" expand=\"block\" color=\"success\">Pay Now <ion-icon\n      name=\"checkmark-circle\">\n    </ion-icon> -->\n  </ion-button>\n  <!--   <ion-button  *ngIf=\"card && firstorder\" (click)=\"makePayment()\" expand=\"block\" color=\"success\">place order\n      <ion-icon name=\"checkmark-circle\"> </ion-icon>\n        <ion-button  (click)=\"makePayment()\" expand=\"block\" color=\"success\">Pay Now <ion-icon\n      name=\"checkmark-circle\">\n    </ion-icon>\n  </ion-button> -->\n  <ion-button (click)=\"addCreditCard()\" *ngIf=\"!isCardAvaliable\" expand=\"block\" color=\"secondary\">Add Credit Card\n    </ion-button>\n    <ion-button (click)=\"addCreditCard()\"   *ngIf=\"isCardAvaliable\" expand=\"block\" color=\"secondary\">Update Credit Card\n  </ion-button>\n<!--   <ion-button (click)=\"addCreditCard()\" *ngIf=\"!isCardAvaliable\" expand=\"block\" color=\"secondary\">use New Credit Card\n  </ion-button> -->\n\n</ion-content>"

/***/ }),

/***/ "./src/app/pages/checkout/checkout.page.scss":
/*!***************************************************!*\
  !*** ./src/app/pages/checkout/checkout.page.scss ***!
  \***************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL2NoZWNrb3V0L2NoZWNrb3V0LnBhZ2Uuc2NzcyJ9 */"

/***/ }),

/***/ "./src/app/pages/checkout/checkout.page.ts":
/*!*************************************************!*\
  !*** ./src/app/pages/checkout/checkout.page.ts ***!
  \*************************************************/
/*! exports provided: CheckoutPage */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CheckoutPage", function() { return CheckoutPage; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_fire_auth__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/fire/auth */ "./node_modules/@angular/fire/auth/index.js");
/* harmony import */ var src_app_providers_user__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! src/app/providers/user */ "./src/app/providers/user.ts");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/dist/fesm5.js");
/* harmony import */ var _card_modal_card_modal_page__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../card-modal/card-modal.page */ "./src/app/pages/card-modal/card-modal.page.ts");
/* harmony import */ var src_app_providers_loading_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! src/app/providers/loading.service */ "./src/app/providers/loading.service.ts");
/* harmony import */ var src_app_providers_storage_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! src/app/providers/storage.service */ "./src/app/providers/storage.service.ts");
/* harmony import */ var src_app_providers_payment__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! src/app/providers/payment */ "./src/app/providers/payment.ts");
/* harmony import */ var src_app_providers_order__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! src/app/providers/order */ "./src/app/providers/order.ts");
/* harmony import */ var src_app_providers_toast_service__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! src/app/providers/toast.service */ "./src/app/providers/toast.service.ts");
/* harmony import */ var angular_cropperjs__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! angular-cropperjs */ "./node_modules/angular-cropperjs/angular-cropperjs.umd.js");
/* harmony import */ var angular_cropperjs__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(angular_cropperjs__WEBPACK_IMPORTED_MODULE_11__);












var CheckoutPage = /** @class */ (function () {
    function CheckoutPage(afAuth, user, modalCtrl, loading, storage, navParams, paymentService, orderService, toast, events, navCtrl) {
        // this.storage.get('userData').then((userData: any) => {
        //   //console.log(this.userObj);
        this.afAuth = afAuth;
        this.user = user;
        this.modalCtrl = modalCtrl;
        this.loading = loading;
        this.storage = storage;
        this.navParams = navParams;
        this.paymentService = paymentService;
        this.orderService = orderService;
        this.toast = toast;
        this.events = events;
        this.navCtrl = navCtrl;
        this.orderObj = {};
        this.disable = false;
        this.original_amount = false;
        this.iscoupon = false;
        this.firstorder = false;
        this.croppedImage = null;
        this.croped = false;
        this.saved = false;
        this.newName = '';
        this.fileName = '';
        this.showAlert = true;
        this.imageName = '';
        this.previousFiles = [];
        this.imagePickerOptions = {
            maximumImagesCount: 1,
            quality: 50
        };
        //       this.userObj=userData[0];
        //    },(err)=>{
        // console.log(err);
        //   });   
        //   this.storage.get('PACKAGE').then((myPackage: any) => {
        //  this.package=choosenpackage;
        //  this.original_amount=choosenpackage.price;
        // console.log(this.package);
        //   },(err)=>{
        //     console.log(err);
        //   });
        this.myFile = this.navParams.data.data.image;
        console.log(this.navParams.data.data.image);
        this.previousFiles = this.navParams.data.data.previous;
        this.fileName = this.navParams.data.data.filename;
    }
    CheckoutPage.prototype.ngOnInit = function () {
        var _this = this;
        // if(this.firstorder){
        //   this.applycoupon();
        // }
        //    let card = {
        //  number: '4242424242424242',
        //  expMonth: 12,
        //  expYear: 2020,
        //  cvc: '220',
        //  zip: '99501'
        // }
        this.user.getcoupons().subscribe(function (coupons) {
            _this.activecoupons = coupons;
            console.table(coupons);
            var coup = coupons;
            var len = Object.keys(coup).length;
            var active_coupons = [];
            // if (coupon.length < 0) {
            // if (len > 0) {
            //    this.iscoupon=true;
            // }
            for (var i = 0; i < len; i++) {
                var coupon = coup[i];
                //  let today=new Date();
                //  console.log(today); 
                // console.log(coupon);
                //  console.log('redeam bÿ:'+new Date(coupon.redeem_by));
                //   console.log('created on:'+ new Date(coupon.created));
                //   console.log('duration in months:'+coupon.duration_in_months);
                if (coupon.valid) {
                    console.log('valid');
                    console.log(new Date(coupon.created));
                    // if(coupon.id!="100OFF"){
                    _this.iscoupon = true;
                    active_coupons.push(coupon);
                    // }
                    // this.user.applycoupon(curruser.cus_id,coupon.id).subscribe((coupo) =>{
                    // });
                }
            }
            _this.activecoupons = active_coupons;
            console.log(_this.activecoupons);
            console.log(_this.navParams.data.data.package);
            var choosenpackage = _this.navParams.data.data.package;
            _this.package = choosenpackage;
            _this.original_amount = choosenpackage.price;
            _this.afAuth.authState.subscribe(function (user) {
                console.log(user);
                _this.user.getUser(user.uid).subscribe(function (userData) {
                    console.log(userData);
                    _this.userObj = userData[0];
                    // userData[0].card=card;
                    // this.storage.set('userData',userData);
                    if (userData && userData[0].source) {
                        _this.card = userData[0].source;
                        console.log(userData[0].source);
                        _this.isCardAvaliable = true;
                        _this.orderService.getOrdersFromServer(_this.userObj._id).subscribe(function (orders) {
                            var len = Object.keys(orders).length;
                            console.log(orders);
                            console.log(len);
                            if (!len) {
                                //alert("first order");
                                _this.firstorder = true;
                                _this.coupon = "100OFF";
                                _this.applycoupon();
                            }
                            else {
                                //this.iscoupon=false;
                                // alert("Not first order");
                            }
                        });
                        // this.storage.set('userData', this.userData[0]).subscribe((userD: any) => {
                        //   console.log(userD)
                        // });
                        // this.userObj=userData;
                    }
                    else {
                        _this.isCardAvaliable = false;
                        _this.orderService.getOrdersFromServer(_this.userObj._id).subscribe(function (orders) {
                            var len = Object.keys(orders).length;
                            console.log(orders);
                            console.log(len);
                            if (!len) {
                                // alert("first order");
                                _this.firstorder = true;
                                _this.coupon = "100OFF";
                                _this.applycoupon();
                            }
                            else {
                                //this.iscoupon=false;
                                //alert("Not first order");
                            }
                        });
                    }
                }, function (err) {
                    _this.loading.dismissLoading();
                    _this.toast.presentToast(err.message, 'danger');
                });
            }, function (err) {
                _this.loading.dismissLoading();
                _this.toast.presentToast(err.message, 'danger');
            });
        }, function (err) {
            console.log(err);
        });
    };
    CheckoutPage.prototype.applycoupon = function () {
        console.log(this.coupon);
        console.log(this.activecoupons);
        //this.package.amount=this.coupon;
        var coupons = this.activecoupons;
        var appliedcoupons;
        for (var i = 0; i < coupons.length; i++) {
            //this.toast.presentToast(i, 'dark');
            var coupon = coupons[i];
            console.log(coupon);
            if (!this.firstorder) {
                //this.iscoupon=false;
                if (coupon.id === this.coupon && this.coupon != "100OFF") {
                    this.iscoupon = true;
                    console.log(coupon.id);
                    console.log(this.coupon);
                    appliedcoupons = this.coupon;
                    var amount = this.package.amount;
                    console.log(amount);
                    console.log(coupon.percent_off);
                    var discount = ((amount * coupon.percent_off) / 100);
                    console.log(discount);
                    console.log((amount - discount));
                    this.package.amount = (amount - discount);
                    if (this.package.amount) {
                        console.log("not zero");
                        this.firstorder = false;
                    }
                    else {
                        console.log("is  zero");
                        this.firstorder = true;
                    }
                    this.disable = true;
                    this.userObj.coupon = coupon.id;
                    this.userObj.discount = discount;
                    this.toast.presentToast('coupon applied Successfully', 'dark');
                }
            }
            else {
                if (coupon.id === this.coupon) {
                    console.log(coupon.id);
                    console.log(this.coupon);
                    appliedcoupons = this.coupon;
                    var amount = this.package.amount;
                    console.log(amount);
                    console.log(coupon.percent_off);
                    var discount = ((amount * coupon.percent_off) / 100);
                    console.log(discount);
                    console.log((amount - discount));
                    this.package.amount = (amount - discount);
                    if (this.package.amount) {
                        console.log("not zero");
                        this.firstorder = false;
                    }
                    else {
                        console.log("is  zero");
                        this.firstorder = true;
                    }
                    this.disable = true;
                    this.userObj.coupon = coupon.id;
                    this.userObj.discount = discount;
                    this.toast.presentToast('coupon applied Successfully', 'dark');
                }
            }
            // else{
            //    this.toast.presentToast('No such coupon available', 'danger');
            // }
        }
        if (!appliedcoupons) {
            // this.iscoupon=true;
            this.toast.presentToast('No such coupon available', 'danger');
        }
    };
    CheckoutPage.prototype.getuser = function () {
        var _this = this;
        this.afAuth.authState.subscribe(function (user) {
            _this.user.getUser(user.uid).subscribe(function (userData) {
                console.log(userData);
                if (userData && userData[0].source) {
                    _this.userObj = userData[0];
                    _this.card = userData[0].source;
                    _this.isCardAvaliable = true;
                }
                else {
                    _this.isCardAvaliable = false;
                }
            });
        });
    };
    CheckoutPage.prototype.addCreditCard = function () {
        return tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"](this, void 0, void 0, function () {
            var cardModal;
            var _this = this;
            return tslib__WEBPACK_IMPORTED_MODULE_0__["__generator"](this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.modalCtrl.create({
                            component: _card_modal_card_modal_page__WEBPACK_IMPORTED_MODULE_5__["CardModalPage"]
                        })];
                    case 1:
                        cardModal = _a.sent();
                        cardModal.onDidDismiss()
                            .then(function (data) {
                            console.log(data);
                            if (data) {
                                _this.card = data.data.source;
                                // this.userObj.source= data.data.source;
                                console.log(_this.card);
                                _this.isCardAvaliable = true;
                            }
                        });
                        cardModal.present();
                        return [2 /*return*/];
                }
            });
        });
    };
    CheckoutPage.prototype.makePayment = function () {
        var _this = this;
        // this.getuser();
        this.loading.presentLoading();
        //   this.storage.get('userData').then((userData: any) => {
        console.log(this.userObj);
        //     this.userObj=userData[0];
        // this.storage.get('PACKAGE').then((myPackage: any) => {
        this.orderObj.package = this.package;
        console.log(this.orderObj.package.amount);
        console.log(this.userObj.source);
        //       let userd :any = {};
        this.user.getUser(this.userObj._id).subscribe(function (userData) {
            console.log(userData);
            _this.userObj = userData[0];
            //       userd={
            //         "user":userData,
            //         "amount":this.orderObj.package.amount
            //       };
            // console.log(myPackage);
            // console.log(userd);
            //   this.userObj[0]['amount']=this.orderObj.package.amount;
            // this.storage.get('userData').then((dat: any) => {
            //  this.userObj=dat;
            //   });
            _this.paymentService.makePayment(_this.userObj, _this.orderObj.package.amount)
                .subscribe(function (res) {
                console.log(res);
                console.log(_this.userObj);
                console.log(_this.navParams.data.data.uploadimage);
                // await this.storage.get('IMAGE').then((image: any) => {
                console.log(_this.navParams.data.data.image);
                // this.orderObj.images = this.navParams.data.data.image;
                _this.orderObj.images = _this.navParams.data.data.uploadimage;
                _this.orderObj.date = Date.now();
                _this.orderObj.userId = _this.userObj._id;
                _this.orderService.placeOrder(_this.orderObj).subscribe(function (val) {
                    console.log(val);
                    _this.toast.presentToast('Order Placed Successfully!', 'dark');
                    _this.loading.dismissLoading();
                    _this.events.publish('order:placed');
                    // this.storage.remove('PACKAGE');
                    //this.storage.remove('IMAGE');
                    _this.modalCtrl.dismiss();
                    _this.navCtrl.navigateRoot('/menu/tabs/tabs/home')
                        .then(function () {
                        _this.loading.dismissLoading();
                    });
                });
                // });
            }, function (err) {
                _this.loading.dismissLoading();
                _this.toast.presentToast('Order can  not be accomplished', 'danger');
                _this.modalCtrl.dismiss();
                _this.navCtrl.navigateRoot('/menu/tabs/tabs/home')
                    .then(function () {
                    _this.loading.dismissLoading();
                });
            });
        });
        //});
    };
    CheckoutPage.prototype.close = function () {
        this.modalCtrl.dismiss();
    };
    tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ViewChild"])('angularCropper'),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", angular_cropperjs__WEBPACK_IMPORTED_MODULE_11__["AngularCropperjsComponent"])
    ], CheckoutPage.prototype, "angularCropper", void 0);
    tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ViewChild"])(_ionic_angular__WEBPACK_IMPORTED_MODULE_4__["IonContent"]),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", _ionic_angular__WEBPACK_IMPORTED_MODULE_4__["IonContent"])
    ], CheckoutPage.prototype, "content", void 0);
    CheckoutPage = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
            selector: 'app-checkout',
            template: __webpack_require__(/*! ./checkout.page.html */ "./src/app/pages/checkout/checkout.page.html"),
            styles: [__webpack_require__(/*! ./checkout.page.scss */ "./src/app/pages/checkout/checkout.page.scss")]
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_angular_fire_auth__WEBPACK_IMPORTED_MODULE_2__["AngularFireAuth"],
            src_app_providers_user__WEBPACK_IMPORTED_MODULE_3__["UserProvider"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_4__["ModalController"],
            src_app_providers_loading_service__WEBPACK_IMPORTED_MODULE_6__["LoadingService"],
            src_app_providers_storage_service__WEBPACK_IMPORTED_MODULE_7__["StorageService"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_4__["NavParams"],
            src_app_providers_payment__WEBPACK_IMPORTED_MODULE_8__["PaymentProvider"],
            src_app_providers_order__WEBPACK_IMPORTED_MODULE_9__["OrderProvider"],
            src_app_providers_toast_service__WEBPACK_IMPORTED_MODULE_10__["ToastService"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_4__["Events"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_4__["NavController"]])
    ], CheckoutPage);
    return CheckoutPage;
}());



/***/ }),

/***/ "./src/app/pages/crop-modal/crop-modal.module.ts":
/*!*******************************************************!*\
  !*** ./src/app/pages/crop-modal/crop-modal.module.ts ***!
  \*******************************************************/
/*! exports provided: CropModalPageModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CropModalPageModule", function() { return CropModalPageModule; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm5/forms.js");
/* harmony import */ var _ionic_native_crop_ngx__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @ionic-native/crop/ngx */ "./node_modules/@ionic-native/crop/ngx/index.js");
/* harmony import */ var _ionic_native_file_ngx__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @ionic-native/file/ngx */ "./node_modules/@ionic-native/file/ngx/index.js");
/* harmony import */ var angular_cropperjs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! angular-cropperjs */ "./node_modules/angular-cropperjs/angular-cropperjs.umd.js");
/* harmony import */ var angular_cropperjs__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(angular_cropperjs__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var _ionic_native_camera_ngx__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @ionic-native/camera/ngx */ "./node_modules/@ionic-native/camera/ngx/index.js");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/dist/fesm5.js");
/* harmony import */ var _crop_modal_page__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./crop-modal.page */ "./src/app/pages/crop-modal/crop-modal.page.ts");







//import { CropperComponent } from 'angular-cropperjs';



var routes = [
    {
        path: '',
        component: _crop_modal_page__WEBPACK_IMPORTED_MODULE_9__["CropModalPage"]
    }
];
var CropModalPageModule = /** @class */ (function () {
    function CropModalPageModule() {
    }
    CropModalPageModule = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["NgModule"])({
            imports: [
                _angular_common__WEBPACK_IMPORTED_MODULE_2__["CommonModule"],
                _angular_forms__WEBPACK_IMPORTED_MODULE_3__["FormsModule"],
                _ionic_angular__WEBPACK_IMPORTED_MODULE_8__["IonicModule"],
                angular_cropperjs__WEBPACK_IMPORTED_MODULE_6__["AngularCropperjsModule"],
            ],
            declarations: [_crop_modal_page__WEBPACK_IMPORTED_MODULE_9__["CropModalPage"]],
            entryComponents: [_crop_modal_page__WEBPACK_IMPORTED_MODULE_9__["CropModalPage"]],
            exports: [_crop_modal_page__WEBPACK_IMPORTED_MODULE_9__["CropModalPage"]],
            providers: [_ionic_native_crop_ngx__WEBPACK_IMPORTED_MODULE_4__["Crop"], _ionic_native_camera_ngx__WEBPACK_IMPORTED_MODULE_7__["Camera"], _ionic_native_file_ngx__WEBPACK_IMPORTED_MODULE_5__["File"]]
        })
    ], CropModalPageModule);
    return CropModalPageModule;
}());



/***/ }),

/***/ "./src/app/pages/crop-modal/crop-modal.page.html":
/*!*******************************************************!*\
  !*** ./src/app/pages/crop-modal/crop-modal.page.html ***!
  \*******************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "\n\n<ion-header>\n  <ion-toolbar color=\"primary\">\n    <ion-buttons slot=\"start\">\n           <ion-button ion-button slot=\"icon-only\"  (click)=\"clear()\">\n        <ion-icon name=\"close\"></ion-icon>\n      </ion-button>\n    </ion-buttons>\n    <ion-title>Crop Image</ion-title>\n    <ion-buttons slot=\"end\">\n\n       <ion-button ion-button slot=\"icon-only\" (click)=\"reset()\">\n        Reset\n      </ion-button>\n      <ion-button ion-button slot=\"icon-only\" (click)=\"save()\">\n        <ion-icon name=\"checkmark\"></ion-icon>\n      </ion-button>\n    </ion-buttons>\n  </ion-toolbar>\n</ion-header>\n<!--  <ion-header>\n  <ion-toolbar color=\"primary\">\n    <ion-buttons slot=\"start\">\n           <ion-button  slot=\"icon-only\"  (click)=\"clear()\">\n        <ion-icon name=\"close\"></ion-icon>\n      </ion-button>\n     \n    </ion-buttons>\n    <ion-title>crop Image</ion-title>\n    <ion-buttons slot=\"end\">\n   <ion-button   (click)=\"reset()\">\n        Reset\n      </ion-button>\n      <ion-button  slot=\"icon-only\"  (click)=\"save()\">\n        <ion-icon name=\"checkmark\"></ion-icon>\n      </ion-button>\n    </ion-buttons>\n  </ion-toolbar>\n</ion-header> -->\n\n<ion-content>\n\n  <!-- <div style=\"width: 100%;height: 70%\"> -->\n    <div>\n  \n  <angular-cropper #angularCropper [cropperOptions]=\"cropperOptions\" [imageUrl]=\"myFile\" *ngIf=\"myFile\" style=\"width: 100%;height: 70%\"></angular-cropper>\n</div>\n<!-- \n \n  <ion-row *ngIf=\"myFile\">\n    <ion-col col-4>\n      <button ion-button outline icon-left color=\"primary\" (click)=\"zoom(true)\">\n        <ion-icon name=\"add\"></ion-icon> Zoom\n      </button>\n    </ion-col>\n    <ion-col col-4>\n      <button ion-button outline icon-left color=\"primary\" (click)=\"zoom(false)\">\n        <ion-icon name=\"remove\"></ion-icon> Zoom\n      </button>\n    </ion-col>\n    <ion-col col-4>\n      <button ion-button outline icon-left (click)=\"rotate()\">\n        <ion-icon name=\"refresh\"></ion-icon> 90 deg\n      </button>\n    </ion-col>\n \n    <ion-col col-2>\n      <button ion-button clear (click)=\"scaleX()\">\n        Flip X\n      </button>\n    </ion-col>\n    <ion-col col-2>\n      <button ion-button clear (click)=\"scaleY()\">\n        Flip Y\n      </button>\n    </ion-col>\n \n    <ion-col col-2>\n      <button ion-button clear icon-only (click)=\"move(0, -10)\">\n        <ion-icon name=\"arrow-round-up\"></ion-icon>\n      </button>\n    </ion-col>\n    <ion-col col-2>\n      <button ion-button clear icon-only (click)=\"move(0, 10)\">\n        <ion-icon name=\"arrow-round-down\"></ion-icon>\n      </button>\n    </ion-col>\n    <ion-col col-2>\n      <button ion-button clear icon-only (click)=\"move(-10, 0)\">\n        <ion-icon name=\"arrow-round-back\"></ion-icon>\n      </button>\n    </ion-col>\n    <ion-col col-2>\n      <button ion-button clear icon-only (click)=\"move(10, 0)\">\n        <ion-icon name=\"arrow-round-forward\"></ion-icon>\n      </button>\n    </ion-col>\n  </ion-row> -->\n \n\n \n</ion-content>"

/***/ }),

/***/ "./src/app/pages/crop-modal/crop-modal.page.scss":
/*!*******************************************************!*\
  !*** ./src/app/pages/crop-modal/crop-modal.page.scss ***!
  \*******************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".angular-cropper-wrapper {\n  width: 100%;\n  height: 70%; }\n\n.img-container {\n  /* Never limit the container height here */\n  max-width: 100%; }\n\n.img-container img {\n  /* This is important */\n  width: 100%;\n  height: 50%; }\n\n.cropper-container {\n  width: 100%;\n  height: 50%; }\n\n/*.cropper-bg{\n width: 100%;\n  height: 50%;\n}*/\n\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvY3JvcC1tb2RhbC9FOlxcQ1JZUFRPIFNZU1RFTVNcXFByb2plY3RzXFxzbmFwMnZlY3RvclxcbW9iaWxlX2FwcGxpY2F0aW9uMi9zcmNcXGFwcFxccGFnZXNcXGNyb3AtbW9kYWxcXGNyb3AtbW9kYWwucGFnZS5zY3NzIiwic3JjL2FwcC9wYWdlcy9jcm9wLW1vZGFsL2Nyb3AtbW9kYWwucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUNBO0VBQ0ksV0FBVztFQUNiLFdBQVcsRUFBQTs7QUFHYjtFQUNFLDBDQUFBO0VBQ0EsZUFBZSxFQUFBOztBQUdqQjtFQUNFLHNCQUFBO0VBQ0EsV0FBVztFQUNYLFdBQVcsRUFBQTs7QUFHYjtFQUNDLFdBQVc7RUFDVixXQUFXLEVBQUE7O0FBR2I7OztFQ0ZFIiwiZmlsZSI6InNyYy9hcHAvcGFnZXMvY3JvcC1tb2RhbC9jcm9wLW1vZGFsLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIlxuLmFuZ3VsYXItY3JvcHBlci13cmFwcGVye1xuICAgIHdpZHRoOiAxMDAlO1xuICBoZWlnaHQ6IDcwJTtcblxufVxuLmltZy1jb250YWluZXIge1xuICAvKiBOZXZlciBsaW1pdCB0aGUgY29udGFpbmVyIGhlaWdodCBoZXJlICovXG4gIG1heC13aWR0aDogMTAwJTtcbn1cblxuLmltZy1jb250YWluZXIgaW1nIHtcbiAgLyogVGhpcyBpcyBpbXBvcnRhbnQgKi9cbiAgd2lkdGg6IDEwMCU7XG4gIGhlaWdodDogNTAlO1xufVxuXG4uY3JvcHBlci1jb250YWluZXJ7XG4gd2lkdGg6IDEwMCU7XG4gIGhlaWdodDogNTAlO1xufVxuXG4vKi5jcm9wcGVyLWJne1xuIHdpZHRoOiAxMDAlO1xuICBoZWlnaHQ6IDUwJTtcbn0qLyIsIi5hbmd1bGFyLWNyb3BwZXItd3JhcHBlciB7XG4gIHdpZHRoOiAxMDAlO1xuICBoZWlnaHQ6IDcwJTsgfVxuXG4uaW1nLWNvbnRhaW5lciB7XG4gIC8qIE5ldmVyIGxpbWl0IHRoZSBjb250YWluZXIgaGVpZ2h0IGhlcmUgKi9cbiAgbWF4LXdpZHRoOiAxMDAlOyB9XG5cbi5pbWctY29udGFpbmVyIGltZyB7XG4gIC8qIFRoaXMgaXMgaW1wb3J0YW50ICovXG4gIHdpZHRoOiAxMDAlO1xuICBoZWlnaHQ6IDUwJTsgfVxuXG4uY3JvcHBlci1jb250YWluZXIge1xuICB3aWR0aDogMTAwJTtcbiAgaGVpZ2h0OiA1MCU7IH1cblxuLyouY3JvcHBlci1iZ3tcbiB3aWR0aDogMTAwJTtcbiAgaGVpZ2h0OiA1MCU7XG59Ki9cbiJdfQ== */"

/***/ }),

/***/ "./src/app/pages/crop-modal/crop-modal.page.ts":
/*!*****************************************************!*\
  !*** ./src/app/pages/crop-modal/crop-modal.page.ts ***!
  \*****************************************************/
/*! exports provided: CropModalPage */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CropModalPage", function() { return CropModalPage; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/dist/fesm5.js");
/* harmony import */ var angular_cropperjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! angular-cropperjs */ "./node_modules/angular-cropperjs/angular-cropperjs.umd.js");
/* harmony import */ var angular_cropperjs__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(angular_cropperjs__WEBPACK_IMPORTED_MODULE_3__);




var CropModalPage = /** @class */ (function () {
    function CropModalPage(modalController, navParams) {
        this.modalController = modalController;
        this.navParams = navParams;
        this.croppedImage = null;
        this.scaleValX = 1;
        this.scaleValY = 1;
        this.previousFiles = [];
        this.cropperOptions = {
            viewMode: 1,
            dragMode: 'crop',
            //aspectRatio: 1,
            aspectRatio: NaN,
            autoCrop: true,
            movable: true,
            zoomable: true,
            scalable: true,
            autoCropArea: 0.8,
            //  cropController.keepingCropAspectRatio = YES;
            responsive: true,
            modal: true,
            guides: true,
            center: true,
            highlight: true,
            background: true,
            //     minContainerHeight: 100%,
            // minContainerWidth: 100%,
            // minCanvasHeight: 100%,
            // minCanvasWidth: 100%,
            cropBoxMovable: true,
            cropBoxResizable: true,
            toggleDragModeOnDblclick: true,
        };
        //	console.table(this.navParams);
        this.myFile = this.navParams.data.url;
        //console.log(this.myFile);
        //this.modalTitle = this.navParams.data.paramTitle;
    }
    CropModalPage.prototype.ngOnInit = function () {
    };
    CropModalPage.prototype.reset = function () {
        this.angularCropper.cropper.reset();
    };
    CropModalPage.prototype.clear = function () {
        this.angularCropper.cropper.clear();
        this.closeModal();
    };
    CropModalPage.prototype.rotate = function () {
        this.angularCropper.cropper.rotate(90);
    };
    CropModalPage.prototype.zoom = function (zoomIn) {
        var factor = zoomIn ? 0.1 : -0.1;
        this.angularCropper.cropper.zoom(factor);
    };
    CropModalPage.prototype.scaleX = function () {
        this.scaleValX = this.scaleValX * -1;
        this.angularCropper.cropper.scaleX(this.scaleValX);
    };
    CropModalPage.prototype.scaleY = function () {
        this.scaleValY = this.scaleValY * -1;
        this.angularCropper.cropper.scaleY(this.scaleValY);
    };
    CropModalPage.prototype.move = function (x, y) {
        this.angularCropper.cropper.move(x, y);
    };
    CropModalPage.prototype.cropperTouchStart = function (event) {
        event.stopPropagation();
        event.preventDefault(); //Most important
    };
    CropModalPage.prototype.save = function () {
        var croppedImgB64String = this.angularCropper.cropper.getCroppedCanvas().toDataURL('image/jpeg', (100 / 100));
        console.log(croppedImgB64String);
        this.previousFiles.push(this.myFile);
        this.myFile = croppedImgB64String;
        this.closeModal();
    };
    CropModalPage.prototype.closeModal = function () {
        return tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"](this, void 0, void 0, function () {
            var data;
            return tslib__WEBPACK_IMPORTED_MODULE_0__["__generator"](this, function (_a) {
                switch (_a.label) {
                    case 0:
                        data = {
                            "croppedimage": this.myFile,
                            "previous": this.previousFiles,
                        };
                        return [4 /*yield*/, this.modalController.dismiss(data)];
                    case 1:
                        _a.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ViewChild"])('angularCropper'),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", angular_cropperjs__WEBPACK_IMPORTED_MODULE_3__["AngularCropperjsComponent"])
    ], CropModalPage.prototype, "angularCropper", void 0);
    tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ViewChild"])(_ionic_angular__WEBPACK_IMPORTED_MODULE_2__["IonContent"]),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", _ionic_angular__WEBPACK_IMPORTED_MODULE_2__["IonContent"])
    ], CropModalPage.prototype, "content", void 0);
    CropModalPage = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
            selector: 'app-crop-modal',
            template: __webpack_require__(/*! ./crop-modal.page.html */ "./src/app/pages/crop-modal/crop-modal.page.html"),
            styles: [__webpack_require__(/*! ./crop-modal.page.scss */ "./src/app/pages/crop-modal/crop-modal.page.scss")]
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_ionic_angular__WEBPACK_IMPORTED_MODULE_2__["ModalController"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_2__["NavParams"]])
    ], CropModalPage);
    return CropModalPage;
}());



/***/ }),

/***/ "./src/app/pages/details/details.module.ts":
/*!*************************************************!*\
  !*** ./src/app/pages/details/details.module.ts ***!
  \*************************************************/
/*! exports provided: DetailsPageModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DetailsPageModule", function() { return DetailsPageModule; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm5/forms.js");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/dist/fesm5.js");
/* harmony import */ var _details_page__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./details.page */ "./src/app/pages/details/details.page.ts");
/* harmony import */ var src_app_providers_shared_module__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! src/app/providers/shared.module */ "./src/app/providers/shared.module.ts");







var DetailsPageModule = /** @class */ (function () {
    function DetailsPageModule() {
    }
    DetailsPageModule = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["NgModule"])({
            imports: [
                _angular_common__WEBPACK_IMPORTED_MODULE_2__["CommonModule"],
                _angular_forms__WEBPACK_IMPORTED_MODULE_3__["FormsModule"],
                _ionic_angular__WEBPACK_IMPORTED_MODULE_4__["IonicModule"],
                src_app_providers_shared_module__WEBPACK_IMPORTED_MODULE_6__["SharedModule"]
            ],
            declarations: [_details_page__WEBPACK_IMPORTED_MODULE_5__["DetailsPage"]],
            entryComponents: [_details_page__WEBPACK_IMPORTED_MODULE_5__["DetailsPage"]],
            exports: [_details_page__WEBPACK_IMPORTED_MODULE_5__["DetailsPage"]]
        })
    ], DetailsPageModule);
    return DetailsPageModule;
}());



/***/ }),

/***/ "./src/app/pages/details/details.page.html":
/*!*************************************************!*\
  !*** ./src/app/pages/details/details.page.html ***!
  \*************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<ion-header>\n  <ion-toolbar color=\"primary\">\n    <ion-buttons slot=\"start\">\n      <ion-button>\n        <ion-icon name=\"arrow-round-back\"></ion-icon>\n      </ion-button>\n    </ion-buttons>\n    <ion-title>Details Page</ion-title>\n  </ion-toolbar>\n</ion-header>\n\n<ion-content padding>\n  <ion-card>\n\n  </ion-card>\n</ion-content>"

/***/ }),

/***/ "./src/app/pages/details/details.page.scss":
/*!*************************************************!*\
  !*** ./src/app/pages/details/details.page.scss ***!
  \*************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "ion-button {\n  margin-top: 10px; }\n\nion-label {\n  white-space: normal !important; }\n\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvZGV0YWlscy9FOlxcQ1JZUFRPIFNZU1RFTVNcXFByb2plY3RzXFxzbmFwMnZlY3RvclxcbW9iaWxlX2FwcGxpY2F0aW9uMi9zcmNcXGFwcFxccGFnZXNcXGRldGFpbHNcXGRldGFpbHMucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksZ0JBQWdCLEVBQUE7O0FBRXBCO0VBQ0ksOEJBQThCLEVBQUEiLCJmaWxlIjoic3JjL2FwcC9wYWdlcy9kZXRhaWxzL2RldGFpbHMucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiaW9uLWJ1dHRvbntcbiAgICBtYXJnaW4tdG9wOiAxMHB4O1xufVxuaW9uLWxhYmVse1xuICAgIHdoaXRlLXNwYWNlOiBub3JtYWwgIWltcG9ydGFudDtcbn0iXX0= */"

/***/ }),

/***/ "./src/app/pages/details/details.page.ts":
/*!***********************************************!*\
  !*** ./src/app/pages/details/details.page.ts ***!
  \***********************************************/
/*! exports provided: DetailsPage */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DetailsPage", function() { return DetailsPage; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");


var DetailsPage = /** @class */ (function () {
    function DetailsPage() {
    }
    DetailsPage = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
            selector: 'app-details',
            template: __webpack_require__(/*! ./details.page.html */ "./src/app/pages/details/details.page.html"),
            styles: [__webpack_require__(/*! ./details.page.scss */ "./src/app/pages/details/details.page.scss")]
        })
    ], DetailsPage);
    return DetailsPage;
}());



/***/ }),

/***/ "./src/app/pages/image-preview/image-preview.module.ts":
/*!*************************************************************!*\
  !*** ./src/app/pages/image-preview/image-preview.module.ts ***!
  \*************************************************************/
/*! exports provided: ImagePreviewPageModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ImagePreviewPageModule", function() { return ImagePreviewPageModule; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm5/forms.js");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/dist/fesm5.js");
/* harmony import */ var _image_preview_page__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./image-preview.page */ "./src/app/pages/image-preview/image-preview.page.ts");







// const routes: Routes = [
//   {
//     path: '',
//     component: ImagePreviewPage
//   }
// ];
var ImagePreviewPageModule = /** @class */ (function () {
    function ImagePreviewPageModule() {
    }
    ImagePreviewPageModule = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["NgModule"])({
            imports: [
                _angular_common__WEBPACK_IMPORTED_MODULE_2__["CommonModule"],
                _angular_forms__WEBPACK_IMPORTED_MODULE_3__["FormsModule"],
                _ionic_angular__WEBPACK_IMPORTED_MODULE_4__["IonicModule"],
            ],
            declarations: [_image_preview_page__WEBPACK_IMPORTED_MODULE_5__["ImagePreviewPage"]],
            entryComponents: [_image_preview_page__WEBPACK_IMPORTED_MODULE_5__["ImagePreviewPage"]],
            exports: [_image_preview_page__WEBPACK_IMPORTED_MODULE_5__["ImagePreviewPage"]],
            providers: [_angular_common__WEBPACK_IMPORTED_MODULE_2__["DatePipe"]]
        })
    ], ImagePreviewPageModule);
    return ImagePreviewPageModule;
}());



/***/ }),

/***/ "./src/app/pages/image-preview/image-preview.page.html":
/*!*************************************************************!*\
  !*** ./src/app/pages/image-preview/image-preview.page.html ***!
  \*************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<ion-header>\n  <ion-toolbar>\n    <ion-buttons slot=\"start\">\n      <ion-button slot=\"icon-only\" (click)=\"dismiss()\">\n        <ion-icon name=\"close\"></ion-icon>\n      </ion-button>\n    </ion-buttons>\n    <ion-title>Delivered Files</ion-title>\n  </ion-toolbar>\n</ion-header>\n\n\n<ion-content>\n  <!-- <ion-buttons end>\n    <ion-button (click)=\"dismiss()\" class=\"button\" slot=\"icon-only\" clear>\n      <ion-icon class=\"icon\" name=\"close\"></ion-icon>\n    </ion-button>\n  </ion-buttons> -->\n  \n    <!-- <img class=\"image\" [src]=\"url\"> -->\n<!-- \n<ion-card >\n    <ion-card-header color=\"primary\">Preview order</ion-card-header>\n    <ion-card-content  *ngFor=\"let vector of vectors\" > -->\n   <!-- <div > -->\n   \t<!-- <ion-card > -->\n  <!-- <ion-list > -->\n   <ion-card padding-bottom  *ngFor=\"let vector of vectors\">\n  \t<ion-card-content>\n   \n\n  <!--       <ion-list-header>\n          Online\n        </ion-list-header> -->\n <ion-item>\n         <!--  <ion-avatar slot=\"start\">\n            <img src=\"./avatar-poe.png\">\n          </ion-avatar> -->\n            <!-- <img  [src]=\"vector.url\" /> -->\n              <ion-thumbnail style=\"display:inline-block\">\n        <img  [src]=\"vector.url\" />\n         </ion-thumbnail>\n          <ion-label style=\"margin-left: 20px\">\n            <h2>Name: {{vector.originalname}}</h2>\n            <h3>Date: {{vector.created |  date : \"fullDate\"}}</h3>\n            <p>URL: {{vector.url}}</p>\n          </ion-label>\n\n\n        </ion-item>\n\n     <ion-segment  color=\"dark\">\n     <!--    <ion-segment-button (click)=\"download(image.filename, image.url, order)\">\n          <ion-label>Save</ion-label>\n          <ion-icon name=\"download\"></ion-icon>\n        </ion-segment-button> -->\n        <ion-segment-button (click)=\"download(vector.originalname, vector.url, vector.order)\" checked>\n        <!-- <ion-segment-button  checked> -->\n          <ion-label>Download</ion-label>\n          <ion-icon name=\"download\"></ion-icon>\n        </ion-segment-button>\n      <ion-segment-button  *ngIf=\"isCordova\"  (click)=\"share(vector.originalname, vector.url,vector.order)\">\n          <ion-label>Share</ion-label>\n          <ion-icon name=\"share\"></ion-icon>\n        </ion-segment-button>\n      <!--   <ion-segment-button  *ngIf=\"isCordova\"  (click)=\"share(image.filename, image.url,order)\">\n          <ion-label>Share</ion-label>\n          <ion-icon name=\"share\"></ion-icon>\n        </ion-segment-button> -->\n      </ion-segment>\n   </ion-card-content>\n      </ion-card>\n \n <!-- </ion-list> -->\n <!-- </div> -->\n<!-- </ion-card-content>\n</ion-card> -->\n\n</ion-content>\n<!-- <ion-footer>\n  <ion-button expand=\"full\" (click)='sendRequest()' [disabled]=\"!myFile || instructions===''\">\n    Submit Revision &nbsp;\n    <ion-icon name=\"send\"></ion-icon>\n  </ion-button>\n</ion-footer> -->"

/***/ }),

/***/ "./src/app/pages/image-preview/image-preview.page.scss":
/*!*************************************************************!*\
  !*** ./src/app/pages/image-preview/image-preview.page.scss ***!
  \*************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".image {\n  width: 100%;\n  height: 100%;\n  -o-object-fit: contain;\n     object-fit: contain; }\n\n.image-container {\n  width: 100%;\n  height: 100%;\n  display: -webkit-box;\n  display: flex;\n  -webkit-box-pack: center;\n          justify-content: center;\n  -webkit-box-align: center;\n          align-items: center; }\n\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvaW1hZ2UtcHJldmlldy9FOlxcQ1JZUFRPIFNZU1RFTVNcXFByb2plY3RzXFxzbmFwMnZlY3RvclxcbW9iaWxlX2FwcGxpY2F0aW9uMi9zcmNcXGFwcFxccGFnZXNcXGltYWdlLXByZXZpZXdcXGltYWdlLXByZXZpZXcucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsV0FBVztFQUNYLFlBQVk7RUFDWixzQkFBbUI7S0FBbkIsbUJBQW1CLEVBQUE7O0FBR3JCO0VBQ0UsV0FBVztFQUNYLFlBQVk7RUFDWixvQkFBYTtFQUFiLGFBQWE7RUFDYix3QkFBdUI7VUFBdkIsdUJBQXVCO0VBQ3ZCLHlCQUFtQjtVQUFuQixtQkFBbUIsRUFBQSIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL2ltYWdlLXByZXZpZXcvaW1hZ2UtcHJldmlldy5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuaW1hZ2Uge1xuICB3aWR0aDogMTAwJTtcbiAgaGVpZ2h0OiAxMDAlO1xuICBvYmplY3QtZml0OiBjb250YWluO1xufVxuXG4uaW1hZ2UtY29udGFpbmVyIHtcbiAgd2lkdGg6IDEwMCU7XG4gIGhlaWdodDogMTAwJTtcbiAgZGlzcGxheTogZmxleDtcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG59XG4iXX0= */"

/***/ }),

/***/ "./src/app/pages/image-preview/image-preview.page.ts":
/*!***********************************************************!*\
  !*** ./src/app/pages/image-preview/image-preview.page.ts ***!
  \***********************************************************/
/*! exports provided: ImagePreviewPage */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ImagePreviewPage", function() { return ImagePreviewPage; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/dist/fesm5.js");
/* harmony import */ var src_app_providers_user__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! src/app/providers/user */ "./src/app/providers/user.ts");
/* harmony import */ var _angular_fire_auth__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/fire/auth */ "./node_modules/@angular/fire/auth/index.js");
/* harmony import */ var _ionic_native_file_ngx__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @ionic-native/file/ngx */ "./node_modules/@ionic-native/file/ngx/index.js");
/* harmony import */ var _ionic_native_file_opener_ngx__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @ionic-native/file-opener/ngx */ "./node_modules/@ionic-native/file-opener/ngx/index.js");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm5/http.js");
/* harmony import */ var _ionic_native_file_transfer_ngx__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @ionic-native/file-transfer/ngx */ "./node_modules/@ionic-native/file-transfer/ngx/index.js");
/* harmony import */ var src_app_providers_alert_service__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! src/app/providers/alert.service */ "./src/app/providers/alert.service.ts");
/* harmony import */ var src_app_providers_loading_service__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! src/app/providers/loading.service */ "./src/app/providers/loading.service.ts");
/* harmony import */ var src_app_providers_toast_service__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! src/app/providers/toast.service */ "./src/app/providers/toast.service.ts");
/* harmony import */ var _ionic_native_android_permissions_ngx__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @ionic-native/android-permissions/ngx */ "./node_modules/@ionic-native/android-permissions/ngx/index.js");
/* harmony import */ var src_app_providers_order__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! src/app/providers/order */ "./src/app/providers/order.ts");
/* harmony import */ var _ionic_native_social_sharing_ngx__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @ionic-native/social-sharing/ngx */ "./node_modules/@ionic-native/social-sharing/ngx/index.js");















var ImagePreviewPage = /** @class */ (function () {
    function ImagePreviewPage(modalCtrl, navCtrl, afAuth, platform, user, socialSharing, orderService, alert, loading, toast, http, transfer, androidPermissions, file, fileOpener) {
        var _this = this;
        this.modalCtrl = modalCtrl;
        this.navCtrl = navCtrl;
        this.afAuth = afAuth;
        this.platform = platform;
        this.user = user;
        this.socialSharing = socialSharing;
        this.orderService = orderService;
        this.alert = alert;
        this.loading = loading;
        this.toast = toast;
        this.http = http;
        this.transfer = transfer;
        this.androidPermissions = androidPermissions;
        this.file = file;
        this.fileOpener = fileOpener;
        this.writePermission = false;
        this.loading.presentLoading();
        this.afAuth.authState.subscribe(function (res) {
            console.log(res);
            console.log(_this.order);
            if (res != null) {
                console.log("user id:" + res.uid);
                console.log(_this.order);
                //  this.userid=res.uid;
                _this.user.getvector(_this.order.id).subscribe(function (msg) {
                    console.log(msg);
                    _this.loading.dismissLoading();
                    // let data=msg[0];
                    // console.log(data.);
                    // console.log(data.body);
                    _this.vectors = msg;
                });
            }
            else {
                _this.loading.dismissLoading();
                //this.navCtrl.navigateRoot('/login');
            }
        }, function (err) {
            console.log(err);
            _this.loading.dismissLoading();
            //this.toast.presentToast('unable to find logged in user','danger');
        });
    }
    ImagePreviewPage_1 = ImagePreviewPage;
    ImagePreviewPage.prototype.ngOnInit = function () {
    };
    ImagePreviewPage.prototype.download = function (fileName, url, order) {
        var _this = this;
        var ext = fileName.substr(fileName.lastIndexOf('.'));
        console.log("Extension" + ext);
        var filenameNoExt = fileName.substr(0, fileName.lastIndexOf('.'));
        console.log(filenameNoExt);
        var file_Name = filenameNoExt + '-' + order.id + ext;
        console.log(file_Name);
        // console.log(this.inprogressOrders);
        if (!this.platform.is('cordova')) {
            window.open(url);
            // saveAs(url, fileName)
            //return
            return;
        }
        else {
            this.loading.presentLoading();
            this.getPermission();
            //  console.log('afer permission');
            // if (this.writePermission) {
            // if(!this.writePermission){
            //   this.toast.presentToast('Permission not granted', 'danger');
            //    return false;
            // }
            // return true
            // }
            console.log('start downloading');
            this.http.get(url, { responseType: 'blob' }).subscribe(function (data) {
                console.log(fileName);
                console.log('already got file,now downloading');
                console.log(data);
                var ext = fileName.substr(fileName.lastIndexOf('.'));
                console.log("Extension" + ext);
                var filenameNoExt = fileName.substr(0, fileName.lastIndexOf('.'));
                console.log(filenameNoExt);
                var file_Name = filenameNoExt + '-' + order.id + ext;
                console.log(file_Name);
                var img_path;
                img_path = _this.file.externalRootDirectory + 'SnapToVector/Images/' + filenameNoExt + '-' + order.id + ext;
                if (_this.platform.is('android')) {
                    img_path = _this.file.dataDirectory + 'SnapToVector/Images/' + filenameNoExt + '-' + order.id + ext;
                }
                else {
                    img_path = _this.file.documentsDirectory + filenameNoExt + '-' + order.id + ext;
                }
                console.log("image path" + img_path);
                console.log(_this.file.dataDirectory);
                _this.file.writeFile(_this.file.dataDirectory, file_Name, data, { replace: true })
                    .then(function (fileEntry) {
                    _this.toast.presentToastBottom('File saved successfully', 'dark');
                    console.log(fileEntry);
                    console.log('write successful');
                    _this.loading.dismissLoading();
                    _this.showDownloadAlert(_this.file.dataDirectory, fileName, url, order);
                })
                    .catch(function (error) {
                    console.log(error);
                    _this.toast.presentToastBottom('Error Downloading File,please try again', 'danger');
                    _this.loading.dismissLoading();
                });
            }, function (error) {
                console.log(error);
                _this.toast.presentToastBottom('Error Downloading File,please try again', 'danger');
                _this.loading.dismissLoading();
            });
            // }
            // else{
            //         console.log('no permission granted');
            // }
            //this.loading.presentLoading();
            //  const ext = fileName.substr(fileName.lastIndexOf('.'));
            //  console.log("filename"+ext);
            //  const filenameNoExt = fileName.substr(0, fileName.lastIndexOf('.'));
            //   console.log("filename"+filenameNoExt);
            //  let img_path;
            //  img_path = this.file.externalRootDirectory + 'SnapToVector/Images/' + filenameNoExt + '-' + order.id + ext;
            //  if (this.platform.is('android')) {
            //    img_path = this.file.dataDirectory + 'SnapToVector/Images/' + filenameNoExt + '-' + order.id + ext;
            //  } else {
            //    img_path = this.file.documentsDirectory + filenameNoExt + '-' + order.id + ext;
            //  }
            //  console.log("image path"+img_path);
            // //this.fileTransfer = this.transfer.create();
            // this.fileTransfer =this.orderService.getfiletransfer();
            // console.log('fileTransfer: ');  
            //      console.log(JSON.stringify(this.fileTransfer));
            //  this.fileTransfer.download(url, img_path).then((entry) => {
            //     console.log("success downloading");
            //    this.loading.dismissLoading();
            //    this.showDownloadAlert(img_path, fileName, order);
            //  }, (error) => {
            //     console.log("error downloading");
            //     console.log(error);
            //    this.loading.dismissLoading();
            //  });
        }
    };
    ImagePreviewPage.prototype.open = function (fileName, url, order) {
        return tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"](this, void 0, void 0, function () {
            var modal, path_ext, ext, filenameNoExt, file_Name;
            var _this = this;
            return tslib__WEBPACK_IMPORTED_MODULE_0__["__generator"](this, function (_a) {
                switch (_a.label) {
                    case 0:
                        if (!!this.platform.is('cordova')) return [3 /*break*/, 2];
                        return [4 /*yield*/, this.modalCtrl.create({
                                component: ImagePreviewPage_1,
                                cssClass: 'image-preview',
                                showBackdrop: true,
                                componentProps: { url: url }
                            })];
                    case 1:
                        modal = _a.sent();
                        modal.present();
                        return [2 /*return*/];
                    case 2:
                        ;
                        // const modal = await this.modalCtrl.create({
                        //   component: ImagePreviewPage,
                        //   cssClass: 'image-preview',
                        //   showBackdrop: true,
                        //   componentProps: { url }
                        // });
                        // modal.present();
                        // return;
                        //if (this.writePermission) {
                        this.loading.presentLoading();
                        if (this.platform.is('android')) {
                            //path_ext = this.file.dataDirectory + 'SnapToVector/Images/';
                            path_ext = this.file.dataDirectory + '/';
                        }
                        else {
                            path_ext = this.file.documentsDirectory;
                        }
                        ext = fileName.substr(fileName.lastIndexOf('.'));
                        filenameNoExt = fileName.substr(0, fileName.lastIndexOf('.'));
                        file_Name = filenameNoExt + '-' + order.id + ext;
                        console.log("Checking file");
                        this.file.checkFile(path_ext, filenameNoExt + '-' + order.id + ext).then(function (d) {
                            console.log("Checked file");
                            console.log(d);
                            _this.file.resolveLocalFilesystemUrl(path_ext + filenameNoExt + '-' + order.id + ext).then(function (response) {
                                // this.file.resolveLocalFilesystemUrl(this.file.dataDirectory+ 'SnapToVector/Images/').then((response: any) => {
                                response.file(function (meta) {
                                    console.log("Resolving  file system");
                                    console.log(meta);
                                    _this.loading.dismissLoading();
                                    _this.fileOpener.open(meta.localURL, meta.type)
                                        .then(function (d) {
                                        console.log("Yes");
                                        console.log(d);
                                    })
                                        .catch(function (e) {
                                        console.log("No");
                                        console.log(e);
                                    });
                                });
                            });
                        }).catch(function (err) {
                            console.log("There was an error");
                            console.log(err);
                            var img_path = _this.file.cacheDirectory + 'SnapToVector/Images/' + filenameNoExt + '-' + order.id + ext;
                            if (_this.platform.is('android')) {
                                img_path = _this.file.cacheDirectory + 'SnapToVector/Images/' + filenameNoExt + '-' + order.id + ext;
                            }
                            else {
                                img_path = _this.file.tempDirectory + filenameNoExt + '-' + order.id + ext;
                            }
                            // const fileTransfer: FileTransferObject = this.transfer.create();
                            // fileTransfer.download(url, img_path).then((entry) => {
                            _this.http.get(url, { responseType: 'blob' }).subscribe(function (data) {
                                _this.file.writeFile(_this.file.dataDirectory, file_Name, data, { replace: true })
                                    .then(function (fileEntry) {
                                    console.log("Yes fileEntry");
                                    console.log(fileEntry);
                                    console.log(fileEntry.nativeURL);
                                    _this.file.resolveLocalFilesystemUrl(fileEntry.nativeURL).then(function (response) {
                                        response.file(function (meta) {
                                            console.log(meta);
                                            _this.loading.dismissLoading();
                                            _this.fileOpener.open(meta.localURL, meta.type)
                                                .then(function (d) {
                                                console.log(d);
                                            })
                                                .catch(function (e) {
                                                console.log(e);
                                            });
                                        });
                                    }, function (err) {
                                        _this.loading.dismissLoading();
                                        console.log("error 3");
                                        console.log(err);
                                    });
                                }, function (error) {
                                    _this.loading.dismissLoading();
                                    _this.toast.presentToastBottom('Error downloading image, Please try again.', 'danger');
                                });
                            });
                        });
                        return [2 /*return*/];
                }
            });
        });
    };
    ImagePreviewPage.prototype.share = function (fileName, url, order) {
        var _this = this;
        this.loading.presentLoading();
        console.log(this.file.dataDirectory);
        var path_ext;
        if (this.platform.is('android')) {
            //  path_ext = this.file.dataDirectory + 'SnapToVector/Images/';
            path_ext = this.file.dataDirectory + '/';
        }
        else {
            path_ext = this.file.documentsDirectory + '/';
        }
        var ext = fileName.substr(fileName.lastIndexOf('.'));
        var filenameNoExt = fileName.substr(0, fileName.lastIndexOf('.'));
        var file_Name = filenameNoExt + '-' + order.id + ext;
        console.log("Checking file");
        this.file.checkFile(path_ext, filenameNoExt + '-' + order.id + ext).then(function (d) {
            console.log("Checked file");
            console.log(d);
            _this.file.resolveLocalFilesystemUrl(path_ext + filenameNoExt + '-' + order.id + ext).then(function (response) {
                //  this.file.resolveLocalFilesystemUrl(this.file.dataDirectory+ 'SnapToVector/Images/').then((response: any) => {
                response.file(function (meta) {
                    console.log("Resolving  file system");
                    console.log(meta);
                    _this.loading.dismissLoading();
                    // this.fileOpener.open(meta.localURL, meta.type)
                    //   .then((d) => {
                    //     console.log(d);
                    //   })
                    //   .catch(e => {
                    //     console.log(e);
                    //   });
                    // console.log(url);
                    var text = 'Check out the order #' + order.id;
                    //let theurl = url;
                    //  this.loading.presentLoading();
                    //share(message, subject, file, url)
                    _this.socialSharing.share(null, null, path_ext + filenameNoExt + '-' + order.id + ext, null).then(function (res) {
                        //  this.socialSharing.share(text, null,meta.localURL , url).then(res => {
                        console.log(res);
                        _this.loading.dismissLoading();
                    }).catch(function (err) {
                        console.log(err);
                        _this.loading.dismissLoading();
                    });
                });
            });
        }).catch(function (err) {
            console.log(err);
            var img_path = _this.file.cacheDirectory + 'SnapToVector/Images/' + filenameNoExt + '-' + order.id + ext;
            if (_this.platform.is('android')) {
                img_path = _this.file.cacheDirectory + 'SnapToVector/Images/' + filenameNoExt + '-' + order.id + ext;
            }
            else {
                img_path = _this.file.tempDirectory + filenameNoExt + '-' + order.id + ext;
            }
            // const fileTransfer: FileTransferObject = this.transfer.create();
            // fileTransfer.download(url, img_path).then((entry) => {
            _this.http.get(url, { responseType: 'blob' }).subscribe(function (data) {
                _this.file.writeFile(img_path, file_Name, data, { replace: true })
                    .then(function (fileEntry) {
                    console.log(fileEntry);
                    _this.file.resolveLocalFilesystemUrl(fileEntry.nativeURL).then(function (response) {
                        response.file(function (meta) {
                            console.log(meta);
                            console.log(meta.localURL);
                            _this.loading.dismissLoading();
                            // this.fileOpener.open(meta.localURL, meta.type)
                            //   .then((d) => {
                            //     console.log(d);
                            //   })
                            //   .catch(e => {
                            //     console.log(e);
                            //   });
                            //now share the file
                            console.log(url);
                            var text = 'Check out the order #' + order.id;
                            //let theurl = url;
                            //  this.loading.presentLoading();
                            //share(message, subject, file, url)
                            _this.socialSharing.share(text, null, path_ext + filenameNoExt + '-' + order.id + ext, null).then(function (res) {
                                //  this.socialSharing.share(text, null,meta.localURL , url).then(res => {
                                console.log(res);
                                _this.loading.dismissLoading();
                            }).catch(function (err) {
                                console.log(err);
                                _this.loading.dismissLoading();
                            });
                        });
                    }, function (err) {
                        _this.loading.dismissLoading();
                        console.log("error 3");
                        console.log(err);
                    });
                }, function (error) {
                    _this.loading.dismissLoading();
                    _this.toast.presentToastBottom('Error sharing image, Please try again.', 'danger');
                });
            });
        });
    };
    ImagePreviewPage.prototype.showDownloadAlert = function (path, filename, url, order) {
        var _this = this;
        console.log(path.substr(8));
        this.alert.newAlert('File Downloaded', 'Location : ' + path, [
            {
                text: 'OK',
            },
            {
                text: 'Open',
                handler: function () {
                    // this.open(filename, '', order);
                    _this.open(filename, url, order);
                }
            }
        ]);
    };
    ImagePreviewPage.prototype.getPermission = function () {
        var _this = this;
        if (!this.platform.is('android'))
            return;
        this.androidPermissions.checkPermission(this.androidPermissions.PERMISSION.WRITE_EXTERNAL_STORAGE).then(function (result) {
            console.log('Has permission?', result.hasPermission);
            // this.toast.presentToastBottom('Permission alredy granted', 'dark');
            _this.writePermission = true;
        }, function (err) {
            _this.writePermission = false;
            // this.toast.presentToastBottom('Permission not granted', 'danger');
            console.log('No permission granted', err);
            _this.androidPermissions.requestPermission(_this.androidPermissions.PERMISSION.WRITE_EXTERNAL_STORAGE);
        });
    };
    ImagePreviewPage.prototype.dismiss = function () {
        this.modalCtrl.dismiss();
    };
    Object.defineProperty(ImagePreviewPage.prototype, "isCordova", {
        get: function () {
            return this.platform.is('cordova');
        },
        enumerable: true,
        configurable: true
    });
    var ImagePreviewPage_1;
    tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])("order"),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)
    ], ImagePreviewPage.prototype, "order", void 0);
    tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])(),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)
    ], ImagePreviewPage.prototype, "url", void 0);
    ImagePreviewPage = ImagePreviewPage_1 = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
            selector: 'app-image-preview',
            template: __webpack_require__(/*! ./image-preview.page.html */ "./src/app/pages/image-preview/image-preview.page.html"),
            styles: [__webpack_require__(/*! ./image-preview.page.scss */ "./src/app/pages/image-preview/image-preview.page.scss")]
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_ionic_angular__WEBPACK_IMPORTED_MODULE_2__["ModalController"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_2__["NavController"],
            _angular_fire_auth__WEBPACK_IMPORTED_MODULE_4__["AngularFireAuth"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_2__["Platform"],
            src_app_providers_user__WEBPACK_IMPORTED_MODULE_3__["UserProvider"],
            _ionic_native_social_sharing_ngx__WEBPACK_IMPORTED_MODULE_14__["SocialSharing"],
            src_app_providers_order__WEBPACK_IMPORTED_MODULE_13__["OrderProvider"],
            src_app_providers_alert_service__WEBPACK_IMPORTED_MODULE_9__["AlertService"],
            src_app_providers_loading_service__WEBPACK_IMPORTED_MODULE_10__["LoadingService"],
            src_app_providers_toast_service__WEBPACK_IMPORTED_MODULE_11__["ToastService"],
            _angular_common_http__WEBPACK_IMPORTED_MODULE_7__["HttpClient"],
            _ionic_native_file_transfer_ngx__WEBPACK_IMPORTED_MODULE_8__["FileTransfer"],
            _ionic_native_android_permissions_ngx__WEBPACK_IMPORTED_MODULE_12__["AndroidPermissions"],
            _ionic_native_file_ngx__WEBPACK_IMPORTED_MODULE_5__["File"],
            _ionic_native_file_opener_ngx__WEBPACK_IMPORTED_MODULE_6__["FileOpener"]])
    ], ImagePreviewPage);
    return ImagePreviewPage;
}());



/***/ }),

/***/ "./src/app/pages/image-selection/image-selection.module.ts":
/*!*****************************************************************!*\
  !*** ./src/app/pages/image-selection/image-selection.module.ts ***!
  \*****************************************************************/
/*! exports provided: ImageSelectionPageModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ImageSelectionPageModule", function() { return ImageSelectionPageModule; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm5/forms.js");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/dist/fesm5.js");
/* harmony import */ var _image_selection_page__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./image-selection.page */ "./src/app/pages/image-selection/image-selection.page.ts");
/* harmony import */ var src_app_providers_shared_module__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! src/app/providers/shared.module */ "./src/app/providers/shared.module.ts");
/* harmony import */ var src_app_providers_image__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! src/app/providers/image */ "./src/app/providers/image.ts");
/* harmony import */ var _checkout_checkout_module__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../checkout/checkout.module */ "./src/app/pages/checkout/checkout.module.ts");
/* harmony import */ var _crop_modal_crop_modal_module__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../crop-modal/crop-modal.module */ "./src/app/pages/crop-modal/crop-modal.module.ts");
/* harmony import */ var _ionic_native_image_picker_ngx__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @ionic-native/image-picker/ngx */ "./node_modules/@ionic-native/image-picker/ngx/index.js");
/* harmony import */ var _ionic_native_crop_ngx__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @ionic-native/crop/ngx */ "./node_modules/@ionic-native/crop/ngx/index.js");
/* harmony import */ var _ionic_native_file_ngx__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @ionic-native/file/ngx */ "./node_modules/@ionic-native/file/ngx/index.js");
/* harmony import */ var angular_cropperjs__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! angular-cropperjs */ "./node_modules/angular-cropperjs/angular-cropperjs.umd.js");
/* harmony import */ var angular_cropperjs__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(angular_cropperjs__WEBPACK_IMPORTED_MODULE_13__);
/* harmony import */ var _ionic_native_camera_ngx__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @ionic-native/camera/ngx */ "./node_modules/@ionic-native/camera/ngx/index.js");













//import { CropperComponent } from 'angular-cropperjs';


var ImageSelectionPageModule = /** @class */ (function () {
    function ImageSelectionPageModule() {
    }
    ImageSelectionPageModule = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["NgModule"])({
            imports: [
                _angular_common__WEBPACK_IMPORTED_MODULE_2__["CommonModule"],
                _angular_forms__WEBPACK_IMPORTED_MODULE_3__["FormsModule"],
                _ionic_angular__WEBPACK_IMPORTED_MODULE_4__["IonicModule"],
                src_app_providers_shared_module__WEBPACK_IMPORTED_MODULE_6__["SharedModule"],
                _crop_modal_crop_modal_module__WEBPACK_IMPORTED_MODULE_9__["CropModalPageModule"],
                _checkout_checkout_module__WEBPACK_IMPORTED_MODULE_8__["CheckoutPageModule"],
                angular_cropperjs__WEBPACK_IMPORTED_MODULE_13__["AngularCropperjsModule"]
                //CropModalPage,
                //CropperComponent
            ],
            declarations: [_image_selection_page__WEBPACK_IMPORTED_MODULE_5__["ImageSelectionPage"]],
            entryComponents: [_image_selection_page__WEBPACK_IMPORTED_MODULE_5__["ImageSelectionPage"]],
            exports: [_image_selection_page__WEBPACK_IMPORTED_MODULE_5__["ImageSelectionPage"]],
            providers: [src_app_providers_image__WEBPACK_IMPORTED_MODULE_7__["ImageProvider"], _ionic_native_image_picker_ngx__WEBPACK_IMPORTED_MODULE_10__["ImagePicker"], _ionic_native_crop_ngx__WEBPACK_IMPORTED_MODULE_11__["Crop"], _ionic_native_camera_ngx__WEBPACK_IMPORTED_MODULE_14__["Camera"], _ionic_native_file_ngx__WEBPACK_IMPORTED_MODULE_12__["File"]]
        })
    ], ImageSelectionPageModule);
    return ImageSelectionPageModule;
}());



/***/ }),

/***/ "./src/app/pages/image-selection/image-selection.page.html":
/*!*****************************************************************!*\
  !*** ./src/app/pages/image-selection/image-selection.page.html ***!
  \*****************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<ion-header>\n  <ion-toolbar color=\"primary\">\n   \n    <ion-title>Image Selection</ion-title>\n   <!--     <ion-buttons  *ngIf=\"croped\"  slot=\"end\">\n\n       <ion-button ion-button slot=\"icon-only\" (click)=\"clear()\">\n        Reset\n      </ion-button>\n      <ion-button ion-button slot=\"icon-only\" (click)=\"save()\">\n        <ion-icon name=\"checkmark\"></ion-icon>\n      </ion-button>\n    </ion-buttons> -->\n  </ion-toolbar>\n</ion-header>\n\n<ion-content>\n  <div *ngIf=\"!myFile\">\n    <img src=\"assets/img/image-backgorund.jpg\" padding style=\"width:100%\">\n  </div>\n\n  <ion-row padding>\n   <!--  <ion-button *ngIf=\"mobile\" expand=\"full\" (click)=\"presentActionSheet()\">\n      Upload Image\n    </ion-button> -->\n      <ion-button *ngIf=\"mobile\" expand=\"full\" (click)=\"fromcamera()\">Camera\n    </ion-button>\n        <!-- <ion-button *ngIf=\"mobile\" expand=\"full\" (click)=\"pickImage()\"> -->\n          <ion-button *ngIf=\"mobile\" expand=\"full\"  (click)=\"mobileupload()\">\n      \n      Gallery\n    </ion-button>\n  </ion-row>\n  <ion-row padding>\n    <input type=\"file\" [hidden]=\"true\" multiple=\"multiple\" capture=\"camera\" #fileInput accept=\"image/*,application/pdf\"\n      (change)=\"browsePhoto($event)\">\n    <ion-button *ngIf=\"!isCordova\" expand=\"block\" (click)=\"fileInput.click()\">Upload\n    </ion-button>\n\n  </ion-row>\n\n    <ion-item-divider *ngIf=\"myFile\">\n    <ion-label>\n      Current Image\n    </ion-label>\n  </ion-item-divider>\n <div  *ngIf=\"myFile  && !croped && mobile && !saved\">\n\n   <img class=\"selected_image\" [src]=\"myFile\" width=\"100%\" height=\"100%\" padding>\n\n </div>\n  <div  *ngIf=\"myFile && !croped && !saved && !isCordova\">\n\n   <img class=\"selected_image\" [src]=\"myFile\" width=\"100%\" height=\"100%\" padding>\n\n </div>\n  <div style=\"padding:20px;\" *ngIf=\"myFile && croped && mobile && !saved\">\n      <ion-toolbar color=\"primary\">\n    <ion-buttons slot=\"start\">\n     <ion-button ion-button slot=\"icon-only\"  (click)=\"closecrop()\">\n      <ion-icon name=\"close\"></ion-icon>\n      </ion-button>\n    </ion-buttons>\n    <ion-title>Crop Image</ion-title>\n    <ion-buttons slot=\"end\">\n\n       <ion-button ion-button slot=\"icon-only\" (click)=\"clear()\">\n        Reset\n      </ion-button>\n      <ion-button ion-button slot=\"icon-only\" (click)=\"save()\">\n        <ion-icon name=\"checkmark\"></ion-icon>\n      </ion-button>\n    </ion-buttons>\n  </ion-toolbar>\n \n    <!-- <img class=\"selected_image\" [src]=\"myFile\" width=\"100%\" height=\"100%\" padding> -->\n    <angular-cropper (touchstart)=\"cropperTouchStart($event)\" #angularCropper [cropperOptions]=\"cropperOptions\" [imageUrl]=\"myFile\" *ngIf=\"myFile\"></angular-cropper>\n  \n\n  </div>\n\n  <div style=\"padding:20px;\"  *ngIf=\"myFile && croped && !saved && !isCordova\">\n      <ion-toolbar color=\"primary\">\n    <ion-buttons slot=\"start\">\n     <ion-button ion-button slot=\"icon-only\"  (click)=\"reset()\">\n        <ion-icon name=\"close\"></ion-icon>\n      </ion-button>\n    </ion-buttons>\n    <ion-title>Crop Image</ion-title>\n    <ion-buttons slot=\"end\">\n\n       <ion-button ion-button slot=\"icon-only\" (click)=\"clear()\">\n        Reset\n      </ion-button>\n      <ion-button ion-button slot=\"icon-only\" (click)=\"save()\">\n        <ion-icon name=\"checkmark\"></ion-icon>\n      </ion-button>\n    </ion-buttons>\n  </ion-toolbar>\n\n     <!-- <img class=\"selected_image\" [src]=\"myFile\"  width=\"100%\" height=\"100%\" padding> -->\n    \n      <angular-cropper (touchstart)=\"cropperTouchStart($event)\" #angularCropper [cropperOptions]=\"cropperOptions\" [imageUrl]=\"myFile\" *ngIf=\"myFile\"></angular-cropper>\n\n  </div>\n  <div *ngIf=\"saved\">\n    <img class=\"selected_image\" [src]=\"myFile\" padding>\n   <!--    <angular-cropper #angularCropper [cropperOptions]=\"cropperOptions\" [imageUrl]=\"myFile\" *ngIf=\"myFile\"></angular-cropper> -->\n\n  </div>\n\n\n  <ion-row padding-left padding-right>\n    <ion-col col-4>\n      <ion-button  expand=\"full\" (click)='moveToPrevious()'\n        [disabled]=\"!(myFile && isimage) || previousFiles.length==0\">\n        Undo Crop\n      </ion-button>\n    </ion-col>\n<!--     <ion-col  col-4>\n      <ion-button expand=\"full\" (click)='clear()' [disabled]=\"!(myFile && isimage && !saved)\">\n        Reset\n      </ion-button>\n    </ion-col> -->\n    <ion-col col-4>\n       <ion-button  *ngIf=\"!isCordova\" expand=\"full\" (click)='docrop()' [disabled]=\"!(myFile && isimage)\" color=\"success\">\n        Crop\n        <ion-icon name=\"checkmark-circle\"> </ion-icon>\n      </ion-button>\n <!--       <ion-button  *ngIf=\"!isCordova\" expand=\"full\" (click)='opencrop()' [disabled]=\"!(myFile && isimage)\">\n        Crop\n      </ion-button> -->\n     <!--   <ion-button  *ngIf=\"mobile\" expand=\"full\" (click)='opencrop()' [disabled]=\"!(myFile && isimage)\"> -->\n      <ion-button  *ngIf=\"mobile\" expand=\"full\" (click)='docrop()' [disabled]=\"!(myFile && isimage)\" color=\"success\">\n       \n        Crop\n        <ion-icon name=\"checkmark-circle\"> </ion-icon>\n      </ion-button>\n    </ion-col>\n  </ion-row>\n  <ion-row padding-left padding-right *ngIf=\"myFile && buttonClicked\">\n    <!-- <ion-row padding-left padding-right *ngIf=\"myFile \"> -->\n    <ion-col col-8>\n      \n         \n         <ion-row>  \n <ion-input *ngIf=\"isdate\" #inpName (ngModelChange)=\"updatename($event)\"   [ngModel]=\"newName\" type=\"text\" placeholder=\"Type new filename\" >\n  </ion-input>\n  <ion-input *ngIf=\"!isdate\" #inpName (ngModelChange)=\"updatename($event)\"   [ngModel]=\"newName\" type=\"text\" placeholder=\"Type new filename\" > \n    \n       </ion-input>\n          <label style=\"padding: 10px; margin-left: 20px;\">{{Ext}} </label>\n    \n </ion-row>\n    </ion-col>\n \n  </ion-row>\n     <ion-col col-4 *ngIf=\"myFile && buttonClicked\">\n      <ion-button expand=\"full\" (click)='setNewFileName()'>\n        Update File\n      </ion-button>\n    </ion-col>\n  <!-- <ion-row padding-left padding-right *ngIf=\"image && !buttonClicked\"> -->\n      <ion-row padding-left padding-right *ngIf=\"myFile && !buttonClicked\">\n    <ion-col padding-top col-8>\n      <p padding-left >{{imageName}}</p>\n       <!-- <p padding-left  *ngIf=\"isdate\">{{imageName| date : \"mm-dd-yyyy hh-mm\"}}</p> -->\n    </ion-col>\n  \n  </ion-row>\n     <ion-col padding-top col-4 *ngIf=\"myFile && !buttonClicked\">\n      <ion-button expand=\"full\" (click)='editFileName()'>\n        Rename File\n      </ion-button>\n    </ion-col>\n  \n</ion-content>\n<ion-footer>\n  <ion-button *ngIf=\"donecropping\" expand=\"full\" (click)='saveImage()' [disabled]=\"!myFile\">\n    Continue &nbsp;\n    <ion-icon name=\"send\"></ion-icon>\n  </ion-button>\n</ion-footer>"

/***/ }),

/***/ "./src/app/pages/image-selection/image-selection.page.scss":
/*!*****************************************************************!*\
  !*** ./src/app/pages/image-selection/image-selection.page.scss ***!
  \*****************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "ion-button {\n  width: -webkit-fill-available; }\n\n.modal {\n  padding: 18px;\n  border: 1px solid lightgrey;\n  width: 100%; }\n\n.modal img {\n  max-width: 100%; }\n\n.croppr-container * {\n  user-select: none;\n  -moz-user-select: none;\n  -webkit-user-select: none;\n  -ms-user-select: none;\n  box-sizing: border-box;\n  -webkit-box-sizing: border-box;\n  -moz-box-sizing: border-box; }\n\n.croppr-container img {\n  vertical-align: middle;\n  max-width: 100%; }\n\n.croppr {\n  position: relative;\n  display: inline-block; }\n\n.croppr-overlay {\n  background: rgba(0, 0, 0, 0.5);\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  z-index: 1;\n  cursor: crosshair; }\n\n.croppr-region {\n  border: 1px dashed rgba(0, 0, 0, 0.5);\n  position: absolute;\n  z-index: 3;\n  cursor: move;\n  top: 0; }\n\n.croppr-imageClipped {\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  z-index: 2;\n  pointer-events: none; }\n\n.croppr-handle {\n  border: 1px solid black;\n  background-color: white;\n  width: 10px;\n  height: 10px;\n  position: absolute;\n  z-index: 4;\n  top: 0; }\n\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvaW1hZ2Utc2VsZWN0aW9uL0U6XFxDUllQVE8gU1lTVEVNU1xcUHJvamVjdHNcXHNuYXAydmVjdG9yXFxtb2JpbGVfYXBwbGljYXRpb24yL3NyY1xcYXBwXFxwYWdlc1xcaW1hZ2Utc2VsZWN0aW9uXFxpbWFnZS1zZWxlY3Rpb24ucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsNkJBQTZCLEVBQUE7O0FBRy9CO0VBQ0ksYUFBYTtFQUNiLDJCQUEyQjtFQUczQixXQUFXLEVBQUE7O0FBR1g7RUFDSSxlQUFlLEVBQUE7O0FBRW5CO0VBQ0EsaUJBQWlCO0VBQ2pCLHNCQUFzQjtFQUN0Qix5QkFBeUI7RUFDekIscUJBQXFCO0VBQ3JCLHNCQUFzQjtFQUN0Qiw4QkFBOEI7RUFDOUIsMkJBQTJCLEVBQUE7O0FBRy9CO0VBQ0ksc0JBQXNCO0VBQ3RCLGVBQWUsRUFBQTs7QUFHbkI7RUFDSSxrQkFBa0I7RUFDbEIscUJBQXFCLEVBQUE7O0FBR3pCO0VBQ0ksOEJBQTJCO0VBQzNCLGtCQUFrQjtFQUNsQixNQUFNO0VBQ04sUUFBUTtFQUNSLFNBQVM7RUFDVCxPQUFPO0VBQ1AsVUFBVTtFQUNWLGlCQUFpQixFQUFBOztBQUdyQjtFQUNJLHFDQUFxQztFQUNyQyxrQkFBa0I7RUFDbEIsVUFBVTtFQUNWLFlBQVk7RUFDWixNQUFNLEVBQUE7O0FBR1Y7RUFDSSxrQkFBa0I7RUFDbEIsTUFBTTtFQUNOLFFBQVE7RUFDUixTQUFTO0VBQ1QsT0FBTztFQUNQLFVBQVU7RUFDVixvQkFBb0IsRUFBQTs7QUFHeEI7RUFDSSx1QkFBdUI7RUFDdkIsdUJBQXVCO0VBQ3ZCLFdBQVc7RUFDWCxZQUFZO0VBQ1osa0JBQWtCO0VBQ2xCLFVBQVU7RUFDVixNQUFNLEVBQUEiLCJmaWxlIjoic3JjL2FwcC9wYWdlcy9pbWFnZS1zZWxlY3Rpb24vaW1hZ2Utc2VsZWN0aW9uLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbImlvbi1idXR0b24ge1xuICB3aWR0aDogLXdlYmtpdC1maWxsLWF2YWlsYWJsZTtcbn1cblxuLm1vZGFsIHtcbiAgICBwYWRkaW5nOiAxOHB4O1xuICAgIGJvcmRlcjogMXB4IHNvbGlkIGxpZ2h0Z3JleTtcbiAgICAvL2xlZnQ6IDUwJTtcbiAgIC8vIHRyYW5zZm9ybTogdHJhbnNsYXRlWCgtNTAlKTtcbiAgICB3aWR0aDogMTAwJTtcbiAgICB9XG5cbiAgICAubW9kYWwgaW1nIHtcbiAgICAgICAgbWF4LXdpZHRoOiAxMDAlO1xuICAgIH1cbiAgICAuY3JvcHByLWNvbnRhaW5lciAqIHtcbiAgICB1c2VyLXNlbGVjdDogbm9uZTtcbiAgICAtbW96LXVzZXItc2VsZWN0OiBub25lO1xuICAgIC13ZWJraXQtdXNlci1zZWxlY3Q6IG5vbmU7XG4gICAgLW1zLXVzZXItc2VsZWN0OiBub25lO1xuICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XG4gICAgLXdlYmtpdC1ib3gtc2l6aW5nOiBib3JkZXItYm94O1xuICAgIC1tb3otYm94LXNpemluZzogYm9yZGVyLWJveDtcbn1cblxuLmNyb3Bwci1jb250YWluZXIgaW1nIHtcbiAgICB2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlO1xuICAgIG1heC13aWR0aDogMTAwJTtcbn1cblxuLmNyb3BwciB7XG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbn1cblxuLmNyb3Bwci1vdmVybGF5IHtcbiAgICBiYWNrZ3JvdW5kOiByZ2JhKDAsMCwwLDAuNSk7XG4gICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgIHRvcDogMDtcbiAgICByaWdodDogMDtcbiAgICBib3R0b206IDA7XG4gICAgbGVmdDogMDtcbiAgICB6LWluZGV4OiAxO1xuICAgIGN1cnNvcjogY3Jvc3NoYWlyO1xufVxuXG4uY3JvcHByLXJlZ2lvbiB7XG4gICAgYm9yZGVyOiAxcHggZGFzaGVkIHJnYmEoMCwgMCwgMCwgMC41KTtcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgei1pbmRleDogMztcbiAgICBjdXJzb3I6IG1vdmU7XG4gICAgdG9wOiAwO1xufVxuXG4uY3JvcHByLWltYWdlQ2xpcHBlZCB7XG4gICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgIHRvcDogMDtcbiAgICByaWdodDogMDtcbiAgICBib3R0b206IDA7XG4gICAgbGVmdDogMDtcbiAgICB6LWluZGV4OiAyO1xuICAgIHBvaW50ZXItZXZlbnRzOiBub25lO1xufVxuXG4uY3JvcHByLWhhbmRsZSB7XG4gICAgYm9yZGVyOiAxcHggc29saWQgYmxhY2s7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogd2hpdGU7XG4gICAgd2lkdGg6IDEwcHg7XG4gICAgaGVpZ2h0OiAxMHB4O1xuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICB6LWluZGV4OiA0O1xuICAgIHRvcDogMDtcbn0iXX0= */"

/***/ }),

/***/ "./src/app/pages/image-selection/image-selection.page.ts":
/*!***************************************************************!*\
  !*** ./src/app/pages/image-selection/image-selection.page.ts ***!
  \***************************************************************/
/*! exports provided: ImageSelectionPage */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ImageSelectionPage", function() { return ImageSelectionPage; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/dist/fesm5.js");
/* harmony import */ var _ionic_native_camera_ngx__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @ionic-native/camera/ngx */ "./node_modules/@ionic-native/camera/ngx/index.js");
/* harmony import */ var src_app_providers_image__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! src/app/providers/image */ "./src/app/providers/image.ts");
/* harmony import */ var src_app_providers_loading_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! src/app/providers/loading.service */ "./src/app/providers/loading.service.ts");
/* harmony import */ var src_app_providers_data_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! src/app/providers/data.service */ "./src/app/providers/data.service.ts");
/* harmony import */ var _angular_fire_auth__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @angular/fire/auth */ "./node_modules/@angular/fire/auth/index.js");
/* harmony import */ var src_app_providers_storage_service__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! src/app/providers/storage.service */ "./src/app/providers/storage.service.ts");
/* harmony import */ var src_app_providers_alert_service__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! src/app/providers/alert.service */ "./src/app/providers/alert.service.ts");
/* harmony import */ var _ionic_native_crop_ngx__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @ionic-native/crop/ngx */ "./node_modules/@ionic-native/crop/ngx/index.js");
/* harmony import */ var src_app_providers_toast_service__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! src/app/providers/toast.service */ "./src/app/providers/toast.service.ts");
/* harmony import */ var _ionic_native_file_ngx__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @ionic-native/file/ngx */ "./node_modules/@ionic-native/file/ngx/index.js");
/* harmony import */ var _checkout_checkout_page__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../checkout/checkout.page */ "./src/app/pages/checkout/checkout.page.ts");
/* harmony import */ var firebase_app__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! firebase/app */ "./node_modules/firebase/app/dist/index.cjs.js");
/* harmony import */ var firebase_app__WEBPACK_IMPORTED_MODULE_15___default = /*#__PURE__*/__webpack_require__.n(firebase_app__WEBPACK_IMPORTED_MODULE_15__);
/* harmony import */ var _ionic_native_image_picker_ngx__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @ionic-native/image-picker/ngx */ "./node_modules/@ionic-native/image-picker/ngx/index.js");
/* harmony import */ var angular_cropperjs__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! angular-cropperjs */ "./node_modules/angular-cropperjs/angular-cropperjs.umd.js");
/* harmony import */ var angular_cropperjs__WEBPACK_IMPORTED_MODULE_17___default = /*#__PURE__*/__webpack_require__.n(angular_cropperjs__WEBPACK_IMPORTED_MODULE_17__);
/* harmony import */ var _crop_modal_crop_modal_page__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../crop-modal/crop-modal.page */ "./src/app/pages/crop-modal/crop-modal.page.ts");

















//import { CropperComponent } from 'angular-cropperjs';
//import { AngularCropperjsModule } from 'angular-cropperjs';


var ImageSelectionPage = /** @class */ (function () {
    function ImageSelectionPage(modalCtrl, platform, imagePicker, file, dataService, actionSheetCtrl, camera, imageService, loading, afAuth, storage, navParams, alert, crop, datePipe, 
    //private storage: AngularFireStorage,
    toast) {
        this.modalCtrl = modalCtrl;
        this.platform = platform;
        this.imagePicker = imagePicker;
        this.file = file;
        this.dataService = dataService;
        this.actionSheetCtrl = actionSheetCtrl;
        this.camera = camera;
        this.imageService = imageService;
        this.loading = loading;
        this.afAuth = afAuth;
        this.storage = storage;
        this.navParams = navParams;
        this.alert = alert;
        this.crop = crop;
        this.datePipe = datePipe;
        this.toast = toast;
        this.croppedImage = null;
        this.croped = false;
        this.saved = false;
        this.donecropping = true;
        this.isdate = true;
        this.newNamestring = '';
        this.Ext = '';
        this.fileName = '';
        this.showAlert = true;
        this.imageName = '';
        this.previousFiles = [];
        this.buttonClicked = false;
        this.imagePickerOptions = {
            maximumImagesCount: 1,
            quality: 50
        };
        this.cropperOptions = {
            dragMode: 'crop',
            //aspectRatio: 1,
            aspectRatio: NaN,
            autoCrop: true,
            movable: false,
            zoomable: true,
            scalable: true,
            autoCropArea: 0.8,
            //  cropController.keepingCropAspectRatio = YES;
            responsive: true,
            modal: true,
            guides: true,
            center: true,
            highlight: true,
            background: true,
            cropBoxMovable: true,
            cropBoxResizable: true,
            toggleDragModeOnDblclick: true,
        };
        console.log(this.navParams.data.data);
        this.pack = this.navParams.data.data;
    }
    ImageSelectionPage.prototype.ngOnInit = function () {
        //this.exists = this.fileType.some(o => o.image === data.image);
        //this.checkexists();
        //this.croppr();
    };
    Object.defineProperty(ImageSelectionPage.prototype, "isCordova", {
        // checkexists(){
        //   this.exists = this.fileType.some(o => o.image === data.image);
        //   return this.exists; 
        // }
        get: function () {
            return this.platform.is('cordova');
        },
        enumerable: true,
        configurable: true
    });
    ImageSelectionPage.prototype.cropperTouchStart = function (event) {
        event.stopPropagation();
        event.preventDefault(); //Most important
    };
    // croppr(){
    //      this.cropInstance = new Croppr('#croppr', {
    //         // options
    //          // custom aspect radio
    //   // e.g.
    //   aspectRatio: null,
    //   // min/max sizes
    //   maxSize: { width: null, height: null },
    //   minSize: { width: null, height: null },
    //   // start size of crop region
    //   startSize: { width: 100, height: 100, unit: '%' },
    //   // real", "ratio" or "raw"
    //   returnMode: 'real',
    //   // callback functions
    //   onInitialize: null,
    //   onUpdate: null
    //       });  
    //   }
    //   cropprGetVal(){
    //     var newSrc
    //     var data:any = []
    //     data = this.cropInstance.getValue();
    //     let x = data.x
    //     let y = data.y
    //     let width = data.width
    //     let height = data.height
    //     var img = new Image();
    //     img.src = this.myFile;
    //     var canvas = document.createElement('canvas');
    //     var ctx = canvas.getContext('2d');
    //     canvas.width=width
    //     canvas.height=height
    //     ctx.drawImage(img, x, y, width, height, 0, 0, width, height); 
    //     console.log(canvas.toDataURL("image/jpeg"))
    //     this.imgCroppedUrl = canvas.toDataURL("image/jpeg")
    //   }
    ImageSelectionPage.prototype.presentActionSheet = function () {
        return tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"](this, void 0, void 0, function () {
            var actionSheet;
            var _this = this;
            return tslib__WEBPACK_IMPORTED_MODULE_0__["__generator"](this, function (_a) {
                switch (_a.label) {
                    case 0:
                        if (!this.platform.is('cordova')) return [3 /*break*/, 2];
                        return [4 /*yield*/, this.actionSheetCtrl.create({
                                header: 'Select file source',
                                buttons: [
                                    {
                                        text: 'Upload from Gallery',
                                        handler: function () {
                                            _this.takePicture(_this.camera.PictureSourceType.PHOTOLIBRARY);
                                        }
                                    },
                                    {
                                        text: 'Use Camera',
                                        handler: function () {
                                            _this.takePicture(_this.camera.PictureSourceType.CAMERA);
                                        }
                                    },
                                    {
                                        text: 'Cancel',
                                        role: 'cancel'
                                    }
                                ]
                            })];
                    case 1:
                        actionSheet = _a.sent();
                        actionSheet.present();
                        _a.label = 2;
                    case 2: return [2 /*return*/];
                }
            });
        });
    };
    //  reset() {
    //   this.angularCropper.cropper.reset();
    //    this.saved=false;
    // }
    ImageSelectionPage.prototype.clear = function () {
        // this.angularCropper.cropper.clear();
        // this.angularCropper.cropper.reset();
        this.angularCropper.cropper.reset();
        this.saved = false;
        //  this.angularCropper.cropper.reset();
        // this.crop=false;
        //this.angularCropper.cropper.reset();
        // this.saved=false;
    };
    //  clear() {
    //   this.angularCropper.cropper.clear();
    //   this.closeModal(); 
    // }
    ImageSelectionPage.prototype.docrop = function () {
        this.croped = true;
        this.donecropping = false;
    };
    ImageSelectionPage.prototype.save = function () {
        var croppedImgB64String = this.angularCropper.cropper.getCroppedCanvas().toDataURL('image/jpeg', (100 / 100));
        console.log(croppedImgB64String);
        this.previousFiles.push(this.myFile);
        this.saved = false;
        this.croped = false;
        this.donecropping = true;
        this.myFile = croppedImgB64String;
    };
    ImageSelectionPage.prototype.opencrop = function () {
        return tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"](this, void 0, void 0, function () {
            var cropModal;
            var _this = this;
            return tslib__WEBPACK_IMPORTED_MODULE_0__["__generator"](this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.modalCtrl.create({
                            component: _crop_modal_crop_modal_page__WEBPACK_IMPORTED_MODULE_18__["CropModalPage"],
                            componentProps: {
                                "url": this.myFile,
                            }
                        })];
                    case 1:
                        cropModal = _a.sent();
                        cropModal.onDidDismiss()
                            .then(function (data) {
                            console.table(data);
                            if (data.data != undefined) {
                                // console.log(data.data.croppedimage);
                                _this.myFile = data.data.croppedimage;
                                _this.previousFiles = data.data.previous;
                                //console.log(this.myFile);
                                //this.isCardAvaliable = true;
                            }
                        });
                        cropModal.present();
                        return [2 /*return*/];
                }
            });
        });
    };
    ImageSelectionPage.prototype.fromcamera = function () {
        //     let   options = {
        //         quality: 100,
        //         sourceType:this.camera.PictureSourceType.CAMERA,
        //         destinationType: this.camera.DestinationType.DATA_URL,
        //         //destinationType: this.camera.DestinationType.FILE_URI,
        //         encodingType: this.camera.EncodingType.JPEG,
        //         mediaType: this.camera.MediaType.PICTURE,
        //         correctOrientation: true,
        //         saveToPhotoAlbum: false
        //       };
        // this.camera.getPicture(options).then((filePath) => {
        //       console.log(filePath);
        //       this.fileType=filePath.type;
        //       let win: any = window;
        //        this.myFile=win.Ionic.WebView.convertFileSrc(filePath);
        //         console.log("File path"+this.myFile)
        //     }).catch((e)=>{
        //       console.log(e);
        //       alert("Error"+e);
        //     });
        this.takePicture(this.camera.PictureSourceType.CAMERA);
    };
    ImageSelectionPage.prototype.mobileupload = function () {
        // let options: ImagePickerOptions ={
        //   //title:'select picture',
        //   //message:'select atleast 1 picture',
        //   maximumImagesCount:1,
        //   outputType:0 //0=path 1=base64
        //   };
        //   this.imagePicker.getPictures(options).then((results) => {
        //   for (var i = 0; i < results.length; i++) {
        //     //this.cropImage(results[i]);
        //     let newfile=results[i];
        //      let win: any = window;
        //    this.myFile=win.Ionic.WebView.convertFileSrc(newfile);
        //     //this.showCroppedImage(this.myFile)
        //   //  this.cropImage();
        //   }
        // }, (err) => {
        //   alert(err);
        // });
        this.takePicture(this.camera.PictureSourceType.PHOTOLIBRARY);
    };
    ImageSelectionPage.prototype.newcropImage = function () {
        var _this = this;
        this.crop.crop(this.myFile, { quality: 100 })
            .then(function (newPath) {
            _this.showCroppedImage(newPath.split('?')[0]);
        }, function (error) {
            console.log(error);
            _this.loading.dismissLoading();
            _this.toast.presentToast('Error cropping image', 'danger');
            // alert('Error cropping image');
        });
    };
    ImageSelectionPage.prototype.showCroppedImage = function (ImagePath) {
        var _this = this;
        console.log(ImagePath);
        // this.isLoading = true;
        var copyPath = ImagePath;
        var splitPath = copyPath.split('/');
        var imageName = splitPath[splitPath.length - 1];
        this.imageName = imageName;
        var filePath = ImagePath.split(imageName)[0];
        this.file.readAsDataURL(filePath, imageName).then(function (base64) {
            _this.isimage = base64.indexOf('image') !== -1;
            _this.myFile = base64;
            //   this.isLoading = false;
        }, function (error) {
            _this.loading.dismissLoading();
            console.log(error);
            _this.toast.presentToast('Error in showing image', 'danger');
            //alert('Error in showing image' + error);
            //  this.isLoading = false;
        });
    };
    ImageSelectionPage.prototype.browsePhoto = function (event) {
        var _this = this;
        var file = this.imageService.takePhoto(event);
        this.fileType = file.type;
        var fileReader = new FileReader();
        fileReader.onload = function (secondEvent) {
            //console.log(secondEvent);
            var res = secondEvent.target.result;
            console.log(secondEvent.target.result);
            //console.log(file.name);
            _this.myFile = secondEvent.target.result;
            _this.content.scrollToBottom();
            //this.newName = file.name;
            console.log("generated string" + _this.stringGen(5));
            //let date=new Date().toISOString();
            //  let date = new Date().valueOf();
            //let date = new Date();
            var date = _this.datePipe.transform(new Date(), "MM-dd-yyyy hh-mm");
            console.log(date); //output - 14-02-2019
            //this.newName=this.stringGen(5);
            console.log(date.toString().slice(0, 10));
            // this.newName=date.toString().slice(0, 10);
            _this.newName = date;
            // this.newName=this.stringGen(5);
            //this.newName = file.name;
            //console.log();
            var ext = file.name.substr(file.name.lastIndexOf('.'));
            _this.Ext = ext;
            var fname = file.name.split('.')[0];
            if (fname.length > 12) {
                var trucatedText = fname.substr(0, 12) + '...' + ext;
                console.log(trucatedText);
                _this.imageName = trucatedText;
            }
            else {
                _this.imageName = file.name;
            }
            _this.fileName = _this.newName + ext;
            console.log('originalFile: ', file.name);
            _this.isimage = _this.fileType.indexOf('image') !== -1;
            console.log(_this.isimage);
        };
        fileReader.readAsDataURL(file);
        setTimeout(function () {
        }, 1000);
    };
    Object.defineProperty(ImageSelectionPage.prototype, "mobile", {
        get: function () {
            return this.platform.is('cordova');
        },
        enumerable: true,
        configurable: true
    });
    ImageSelectionPage.prototype.takePicture = function (sourceType) {
        return tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"](this, void 0, void 0, function () {
            var options;
            var _this = this;
            return tslib__WEBPACK_IMPORTED_MODULE_0__["__generator"](this, function (_a) {
                options = {};
                if (sourceType === this.camera.PictureSourceType.CAMERA) {
                    options = {
                        quality: 100,
                        sourceType: sourceType,
                        destinationType: this.camera.DestinationType.FILE_URI,
                        //destinationType: this.camera.DestinationType.DATA_URL,
                        encodingType: this.camera.EncodingType.JPEG,
                        mediaType: this.camera.MediaType.PICTURE,
                        correctOrientation: true,
                        saveToPhotoAlbum: false
                    };
                }
                else {
                    options = {
                        quality: 100,
                        sourceType: sourceType,
                        destinationType: this.camera.DestinationType.FILE_URI,
                        //destinationType: this.camera.DestinationType.DATA_URL,
                        encodingType: this.camera.EncodingType.JPEG,
                        mediaType: this.camera.MediaType.PICTURE,
                        correctOrientation: true,
                        saveToPhotoAlbum: false
                    };
                }
                try {
                    // this.camera.getPicture(options).then((imageData) => {
                    //       let base64Image = 'data:image/jpeg;base64,' + imageData;
                    //        this.originalFile = base64Image;
                    //        this.myFile = base64Image;
                    //     }, (err) => {
                    //       // Handle error
                    //     });
                    this.camera.getPicture(options).then(function (filePath) {
                        console.log(filePath);
                        var fileName = filePath.substr(filePath.lastIndexOf('/') + 1);
                        _this.fileName = fileName.substr(0, fileName.lastIndexOf('?'));
                        _this.originalFile = filePath;
                        _this.fileName = fileName.split('?')[0];
                        console.log(_this.fileName);
                        console.log("generated string" + _this.stringGen(5));
                        //let date=new Date().toISOString();
                        //  let date = new Date().valueOf();
                        var date = _this.datePipe.transform(new Date(), "MM-dd-yyyy hh-mm");
                        console.log(date); //output - 14-02-2019
                        // let date = new Date();
                        //this.newName=this.stringGen(5);
                        // this.newName=date.toString().slice(0, 10);
                        _this.newName = date;
                        console.log(date.toString());
                        //this.newName=date.toString();
                        var ext = _this.fileName.substr(_this.fileName.lastIndexOf('.'));
                        _this.Ext = ext;
                        //        // const ext = file.name.substr(file.name.lastIndexOf('.'));
                        //  let fname = file.name.split('.')[0];
                        //  if (fname.length > 12) {
                        //       var trucatedText = fname.substr(0, 12) + '...'+ext;
                        // console.log(trucatedText);
                        // this.imageName=trucatedText;
                        //  }
                        //  else{
                        //   this.imageName=file.name;
                        //  }
                        _this.fileName = _this.newName + ext;
                        _this.showCroppedImage(filePath.split('?')[0]);
                        // this.fileType=filePath.type;
                        //  this.cropImage(filePath);
                        //let win: any = window;
                        //this.myFile=win.Ionic.WebView.convertFileSrc(filePath);
                        //  let base64Image = 'data:image/jpeg;base64,' + filePath;
                        //  //console.log(this.myFile);
                        //   this.isimage= base64Image.indexOf('image') !== -1;
                        //   console.log(this.isimage);
                        //  this.originalFile = base64Image;
                        // // this.originalFile= win.Ionic.WebView.convertFileSrc(filePath);
                        //  this.myFile = base64Image;
                        //  const fileName = base64Image.substr(base64Image.lastIndexOf('/') + 1);
                        //  if (sourceType === this.camera.PictureSourceType.CAMERA) {
                        //    this.fileName = fileName;
                        //  } else {
                        //    this.fileName = fileName.substr(0, fileName.lastIndexOf('?'));
                        //  }
                        //  console.log(this.myFile);
                    }, function (err) {
                        _this.loading.dismissLoading();
                        _this.toast.presentToastBottom('File Upload Error', 'danger');
                        console.log(err);
                    });
                    // let cameraInfo = await this.camera.getPicture(options);
                    // let blobInfo = await this.makeFileIntoBlob(cameraInfo);
                    //  console.log(cameraInfo);
                    // console.log(blobInfo);
                    // //let uploadInfo: any = await this.uploadToFirebase(blobInfo);
                    //  this.afAuth.authState.subscribe((user) => {
                    //   console.log(user);
                    // //  const req = this.imageService.uploadToGallery(this.myFile, user.uid, this.newName);
                    //     this.uploadToFirebase(blobInfo,user.uid).then((data: any) => {
                    //       console.log(data);
                    //       this.storage.set('IMAGE', data);
                    //       this.modalCtrl.dismiss();
                    //       this.openModal(CheckoutPage).then(() => {
                    //         this.loading.dismissLoading();
                    //       }).catch(() => {
                    //         this.loading.dismissLoading();
                    //       });
                    //     });
                    // });
                    // this.originalFile = blobInfo;
                    // this.myFile = blobInfo;
                    //   alert("File Upload Success " + uploadInfo.fileName);
                }
                catch (e) {
                    console.log(e.message);
                    this.toast.presentToastBottom('File Upload Error', 'danger');
                    //alert("File Upload Error " + e.message);
                }
                return [2 /*return*/];
            });
        });
    };
    //   prettyDate2(time){
    //     var date = new Date(parseInt(time));
    //     var localeSpecificTime = date.toLocaleTimeString();
    //     return localeSpecificTime.replace(/:\d+ /, ' ');
    // }
    ImageSelectionPage.prototype.stringGen = function (len) {
        var text = "";
        var charset = "0123456789";
        for (var i = 0; i < len; i++)
            text += charset.charAt(Math.floor(Math.random() * charset.length));
        return text;
    };
    ImageSelectionPage.prototype.uploadToFirebase = function (_imageBlobInfo, userId) {
        var _this = this;
        console.log("uploadToFirebase");
        console.log(_imageBlobInfo);
        // storageRef: firebase.storage.Reference,
        var fileName = _imageBlobInfo.fileName;
        return new Promise(function (resolve, reject) {
            var fileRef = firebase_app__WEBPACK_IMPORTED_MODULE_15__["storage"]().ref('user_files/' + +Date.now() + _imageBlobInfo.fileName);
            //let fileRef = firebase.storage().ref("images/" + _imageBlobInfo.fileName);
            var uploadTask = fileRef.put(_imageBlobInfo.imgBlob);
            uploadTask.on("state_changed", function (_snapshot) {
                console.log("snapshot progess " +
                    (_snapshot.bytesTransferred / _snapshot.totalBytes) * 100);
            }, function (_error) {
                console.log(_error);
                reject(_error);
            }, function () {
                console.log("upload Success");
                fileRef.getDownloadURL().then(function (url) {
                    var myFile = {
                        filename: fileName,
                        originalname: fileName.split('.')[0],
                        url: url,
                        user: userId
                    };
                    _this.dataService.postRequest("image/", myFile)
                        .subscribe(function (res) {
                        console.log(res);
                        resolve(res);
                    }, function (err) {
                        console.log(err);
                        resolve(null);
                    });
                });
                // completion...
                // resolve(uploadTask.snapshot);
            });
        });
    };
    // FILE STUFF
    ImageSelectionPage.prototype.makeFileIntoBlob = function (_imagePath) {
        var _this = this;
        // INSTALL PLUGIN - cordova plugin add cordova-plugin-file
        return new Promise(function (resolve, reject) {
            var fileName = "";
            _this.file
                .resolveLocalFilesystemUrl(_imagePath)
                .then(function (fileEntry) {
                var name = fileEntry.name, nativeURL = fileEntry.nativeURL;
                // get the path..
                var path = nativeURL.substring(0, nativeURL.lastIndexOf("/"));
                console.log("path", path);
                console.log("fileName", name);
                fileName = name;
                // we are provided the name, so now read the file into
                // a buffer
                return _this.file.readAsArrayBuffer(path, name);
            })
                .then(function (buffer) {
                // get the buffer and make a blob to be saved
                var imgBlob = new Blob([buffer], {
                    type: "image/jpeg"
                });
                console.log(imgBlob.type, imgBlob.size);
                resolve({
                    fileName: fileName,
                    imgBlob: imgBlob
                });
            })
                .catch(function (e) { return reject(e); });
        });
    };
    ImageSelectionPage.prototype.saveImage = function () {
        var _this = this;
        console.log(this.myFile);
        //let base64Image = 'data:image/jpeg;base64,' + this.myFile;
        this.loading.presentLoading();
        // this.updateFileName().then(() => {
        this.dataService.isOnline();
        if (this.dataService.isOnline()) {
            this.afAuth.authState.subscribe(function (user) {
                //        (user) =>{
                //        }, // success,
                // (err) => {
                // },// fail
                // () => {
                console.log(user);
                var req = _this.imageService.uploadToGallery(_this.myFile, user.uid, _this.fileName);
                req
                    .then(function (data) {
                    console.log(data);
                    // let mydata={
                    //   image:data,
                    //   package:this.pack
                    // }
                    var mydata = {
                        uploadimage: data,
                        image: _this.myFile,
                        filename: _this.fileName,
                        previous: _this.previousFiles,
                        package: _this.pack
                    };
                    console.log(mydata);
                    console.log(mydata);
                    //this.storage.set('IMAGE', data);
                    _this.modalCtrl.dismiss();
                    _this.openModal(_checkout_checkout_page__WEBPACK_IMPORTED_MODULE_14__["CheckoutPage"], mydata).then(function () {
                        _this.loading.dismissLoading();
                    }).catch(function () {
                        _this.loading.dismissLoading();
                    });
                }).catch(function (e) {
                    _this.toast.presentToastBottom('Network Error,kindly check your internet connection and try again', 'danger');
                    console.log(e);
                    _this.loading.dismissLoading();
                });
            }, function (err) {
                _this.toast.presentToastBottom('Network Error,failed uploading', 'danger');
                console.log(err);
                _this.loading.dismissLoading();
            });
        }
        else {
            this.toast.presentToastBottom('Network Error,kindly check your internet connection and try again', 'danger');
            this.loading.dismissLoading();
        }
        //     }).catch((e)=>{
        //   this.toast.presentToast('Error uploading', 'danger');
        //       console.log(e);
        // this.loading.dismissLoading();
        //     });
    };
    // pickImage() {
    //    this.imagePicker.getPictures(this.imagePickerOptions).then((results) => {
    //      for (var i = 0; i < results.length; i++) {
    //        this.cropImage(results[i]);
    //      }
    //    }, (err) => {
    //       console.log(err);
    //      alert(err);
    //    });
    //  }
    // cropImage(imgPath) {
    //   this.crop.crop(imgPath, { quality: 50 })
    //     .then(
    //       newPath => {
    //         this.showCroppedImage(newPath.split('?')[0])
    //       },
    //       error => {
    //         console.log(error);
    //         this.toast.presentToast('Error cropping image','danger');
    //       }
    //     );
    // }
    ImageSelectionPage.prototype.cropImage = function () {
        var _this = this;
        this.crop.crop(this.originalFile, { quality: 50 })
            .then(function (newPath) {
            _this.previousFiles.push(_this.myFile);
            //  this.myFile = newImage;
            _this.showCroppedImage(newPath.split('?')[0]);
        }, function (error) {
            // this.showCroppedImage(this.myFile.split('?')[0]);
            _this.toast.presentToastBottom('Error cropping image', 'danger');
            // alert('Error cropping image' + error);
        });
    };
    // cropImage() {
    //   if (this.showAlert) {
    //     this.showAlert = false;
    //     this.alert.newAlert('How to crop',
    //       'Hold by the borders and then use the handlers to resize crop tool',
    //       [
    //         {
    //           text: 'OK',
    //           handler: () => {
    //             this.crop.crop(this.myFile, { quality: 100 })
    //               .then(
    //                 newImage => {
    //                   this.previousFiles.push(this.myFile);
    //                   this.myFile = newImage;
    //                 },
    //                 error => {
    //                   this.toast.presentToast('Crop failed, try again!', 'danger');
    //                 }
    //               );
    //           }
    //         },
    //       ]);
    //   } else {
    //     this.crop.crop(this.myFile, { quality: 100})
    //       .then(
    //         newImage => {
    //           this.showCroppedImage(newImage.split('?')[0])
    //          // this.previousFiles.push(this.myFile);
    //          // this.myFile = newImage;
    //         }
    //         // ,
    //         // error => {
    //         //   this.toast.presentToast('Crop failed, try again!', 'danger');
    //         // }
    //       ).catch((e)=>{
    //         console.log(e);
    //          this.toast.presentToast('Crop failed, try again!', 'danger');
    //       });
    //  }
    // }
    ImageSelectionPage.prototype.moveToPrevious = function () {
        this.saved = false;
        if (this.previousFiles.length) {
            this.myFile = this.previousFiles.pop();
            // this.saved=true;
        }
    };
    ImageSelectionPage.prototype.editFileName = function () {
        this.buttonClicked = true;
        //this.isdate = true;
        //this.newName=;
    };
    ImageSelectionPage.prototype.setNewFileName = function () {
        // if (this.newName !== '') {
        //   const ext = this.fileName.substr(this.fileName.lastIndexOf('.'));
        //   this.fileName = this.newName + ext;
        //   this.newName = '';
        // } else {
        //   this.newName = '';
        // }
        if (this.isValidDate(this.newName)) {
            this.isdate = true;
            //  var datePipe = new DatePipe();
            //this.newNamestring = datePipe.transform(this.newName, 'MM-dd-yyyy hh-mm').toString();
        }
        else {
            this.isdate = false;
        }
        var ext = this.fileName.substr(this.fileName.lastIndexOf('.'));
        console.log(ext);
        console.log(this.newName);
        console.log(this.newNamestring);
        this.newNamestring = this.newName.valueOf();
        //   this.fileName = this.newName + ext;
        this.imageName = this.newNamestring + ext;
        this.buttonClicked = false;
    };
    ImageSelectionPage.prototype.updatename = function (event) {
        console.log("yes");
        console.log(event);
        if (this.isValidDate(event)) {
            this.isdate = true;
            this.newName = event;
            //this.newNamestring=event.toString();
        }
        else {
            this.newName = event;
            this.isdate = false;
            //this.newNamestring=event.toString();
        }
    };
    ImageSelectionPage.prototype.isValidDate = function (date) {
        return date && Object.prototype.toString.call(date) === "[object Date]" && !isNaN(date);
    };
    // // FILE STUFF
    //   makeFileIntoBlob(_imagePath) {
    //     // INSTALL PLUGIN - cordova plugin add cordova-plugin-file
    //     return new Promise((resolve, reject) => {
    //       let fileName = "";
    //       this.file
    //         .resolveLocalFilesystemUrl(_imagePath)
    //         .then(fileEntry => {
    //           console.log(fileEntry);
    //           let { name, nativeURL } = fileEntry;
    //           // get the path..
    //           let path = nativeURL.substring(0, nativeURL.lastIndexOf("/"));
    //           this.myFile = path;
    //            this.newName= name;
    //           console.log("path", path);
    //           console.log("fileName", name);
    //           fileName = name;
    //           // we are provided the name, so now read the file into
    //           // a buffer
    //           return this.file.readAsArrayBuffer(path, name);
    //         })
    //         .then(buffer => {
    //           // get the buffer and make a blob to be saved
    //           let imgBlob = new Blob([buffer], {
    //             type: "image/jpeg"
    //           });
    //           console.log(imgBlob.type, imgBlob.size);
    //           resolve({
    //             fileName,
    //             imgBlob
    //           });
    //         })
    //         .catch(e => reject(e));
    //     });
    //   }
    ImageSelectionPage.prototype.updateFileName = function () {
        var _this = this;
        var path = this.myFile.substr(0, this.myFile.lastIndexOf('/') + 1);
        var oldName = this.myFile.substr(this.myFile.lastIndexOf('/') + 1);
        oldName = oldName.substr(0, oldName.lastIndexOf('?'));
        if (oldName === this.fileName) {
            return Promise.resolve();
        }
        return this.file.copyFile(path, oldName, path, this.fileName).then(function (data) {
            _this.myFile = data.nativeURL;
            return Promise.resolve();
        }).catch(function (err) {
            console.log(err);
        });
    };
    ImageSelectionPage.prototype.reset = function () {
        this.angularCropper.cropper.clear();
        this.croped = false;
        this.donecropping = true;
        //this.myFile = this.originalFile;
        //this.previousFiles = [];
    };
    ImageSelectionPage.prototype.closecrop = function () {
        console.log("close crop");
        this.donecropping = true;
        this.croped = false;
    };
    ImageSelectionPage.prototype.openModal = function (component, data) {
        return tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"](this, void 0, void 0, function () {
            var modal;
            return tslib__WEBPACK_IMPORTED_MODULE_0__["__generator"](this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.modalCtrl.create({
                            component: component,
                            componentProps: {
                                "data": data,
                            }
                        })];
                    case 1:
                        modal = _a.sent();
                        return [4 /*yield*/, modal.present()];
                    case 2: return [2 /*return*/, _a.sent()];
                }
            });
        });
    };
    ImageSelectionPage.prototype.close = function () {
        this.modalCtrl.dismiss();
    };
    tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ViewChild"])('angularCropper'),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", angular_cropperjs__WEBPACK_IMPORTED_MODULE_17__["AngularCropperjsComponent"])
    ], ImageSelectionPage.prototype, "angularCropper", void 0);
    tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ViewChild"])(_ionic_angular__WEBPACK_IMPORTED_MODULE_3__["IonContent"]),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", _ionic_angular__WEBPACK_IMPORTED_MODULE_3__["IonContent"])
    ], ImageSelectionPage.prototype, "content", void 0);
    ImageSelectionPage = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
            selector: 'app-image-selection',
            template: __webpack_require__(/*! ./image-selection.page.html */ "./src/app/pages/image-selection/image-selection.page.html"),
            styles: [__webpack_require__(/*! ./image-selection.page.scss */ "./src/app/pages/image-selection/image-selection.page.scss")]
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_ionic_angular__WEBPACK_IMPORTED_MODULE_3__["ModalController"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_3__["Platform"],
            _ionic_native_image_picker_ngx__WEBPACK_IMPORTED_MODULE_16__["ImagePicker"],
            _ionic_native_file_ngx__WEBPACK_IMPORTED_MODULE_13__["File"],
            src_app_providers_data_service__WEBPACK_IMPORTED_MODULE_7__["DataService"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_3__["ActionSheetController"],
            _ionic_native_camera_ngx__WEBPACK_IMPORTED_MODULE_4__["Camera"],
            src_app_providers_image__WEBPACK_IMPORTED_MODULE_5__["ImageProvider"],
            src_app_providers_loading_service__WEBPACK_IMPORTED_MODULE_6__["LoadingService"],
            _angular_fire_auth__WEBPACK_IMPORTED_MODULE_8__["AngularFireAuth"],
            src_app_providers_storage_service__WEBPACK_IMPORTED_MODULE_9__["StorageService"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_3__["NavParams"],
            src_app_providers_alert_service__WEBPACK_IMPORTED_MODULE_10__["AlertService"],
            _ionic_native_crop_ngx__WEBPACK_IMPORTED_MODULE_11__["Crop"],
            _angular_common__WEBPACK_IMPORTED_MODULE_2__["DatePipe"],
            src_app_providers_toast_service__WEBPACK_IMPORTED_MODULE_12__["ToastService"]])
    ], ImageSelectionPage);
    return ImageSelectionPage;
}());



/***/ }),

/***/ "./src/app/providers/alert.service.ts":
/*!********************************************!*\
  !*** ./src/app/providers/alert.service.ts ***!
  \********************************************/
/*! exports provided: AlertService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AlertService", function() { return AlertService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/dist/fesm5.js");



var AlertService = /** @class */ (function () {
    function AlertService(alertController) {
        this.alertController = alertController;
    }
    AlertService.prototype.newAlert = function (title, message, buttons) {
        return tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"](this, void 0, void 0, function () {
            var alert;
            return tslib__WEBPACK_IMPORTED_MODULE_0__["__generator"](this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.alertController.create({
                            header: title,
                            message: message,
                            buttons: buttons
                        })];
                    case 1:
                        alert = _a.sent();
                        alert.present();
                        return [2 /*return*/];
                }
            });
        });
    };
    AlertService = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])({
            providedIn: 'root'
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_ionic_angular__WEBPACK_IMPORTED_MODULE_2__["AlertController"]])
    ], AlertService);
    return AlertService;
}());



/***/ }),

/***/ "./src/app/providers/config.ts":
/*!*************************************!*\
  !*** ./src/app/providers/config.ts ***!
  \*************************************/
/*! exports provided: CONFIGS */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CONFIGS", function() { return CONFIGS; });
var CONFIGS = {
    SERVER_URL: 'https://us-central1-snaptovectorv2.cloudfunctions.net',
    SERVER_URL_LOCAL: 'http://localhost:5000/snaptovector/us-central1',
    stripeKey: 'pk_test_mNpr3V44dzPY7VnUGlgfzp9F',
    firebaseConfig: {
        apiKey: "AIzaSyDLnL8BuC7s9hn39zwkYH_c47qBzx4cnh4",
        authDomain: "snaptovectorv2.firebaseapp.com",
        databaseURL: "https://snaptovectorv2.firebaseio.com",
        projectId: "snaptovectorv2",
        storageBucket: "snaptovectorv2.appspot.com",
        messagingSenderId: "103801763090",
        appId: "1:103801763090:web:d9ae10312b7ecf2f8aafcb",
        measurementId: "G-YVBYSG97D7"
    },
    googleOAth: {
        clientId: '942240372918-669v8nknrpkq02np67hkvbgf08q8jhl0.apps.googleusercontent.com',
        clientSecret: 'wsnVP_S43h7ZoTYVIyXdoDuH'
    }
};


/***/ }),

/***/ "./src/app/providers/data.service.ts":
/*!*******************************************!*\
  !*** ./src/app/providers/data.service.ts ***!
  \*******************************************/
/*! exports provided: DataService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DataService", function() { return DataService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm5/http.js");
/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./config */ "./src/app/providers/config.ts");
/* harmony import */ var _ionic_native_network_ngx__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @ionic-native/network/ngx */ "./node_modules/@ionic-native/network/ngx/index.js");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/dist/fesm5.js");






var DataService = /** @class */ (function () {
    function DataService(http, network, platform) {
        this.http = http;
        this.network = network;
        this.platform = platform;
        this.headerDict = {
            'Content-Type': 'application/json',
            'Accept': 'application/json',
            'Access-Control-Allow-Headers': 'Content-Type',
            'Access-Control-Allow-Origin': '*'
        };
        this.URL = _config__WEBPACK_IMPORTED_MODULE_3__["CONFIGS"].SERVER_URL;
        this.onDevice = this.platform.is('cordova');
    }
    DataService.prototype.isOnline = function () {
        if (this.onDevice && this.network.type !== 'none') {
            return true;
        }
        else {
            return navigator.onLine;
        }
    };
    //URL: string =  CONFIGS.SERVER_URL_LOCAL;
    //URL_LOCAL: string = CONFIGS.SERVER_URL_LOCAL;
    // setHeaders(myToken?: string, method?: string) {
    //   const headers: HttpHeaders = new HttpHeaders()
    //     .set('Content-Type', 'application/json')
    //     .set('Authorization', `${myToken}`)
    //     .set('Access-Control-Allow-Origin', '*');
    //   return headers;
    // }
    DataService.prototype.setHeaders = function () {
        var headers = new _angular_common_http__WEBPACK_IMPORTED_MODULE_2__["HttpHeaders"]()
            .set('Content-Type', 'application/json')
            .set('Access-Control-Allow-Origin', '*');
        return headers;
    };
    DataService.prototype.setFileHeaders = function (myToken) {
        var headers = new _angular_common_http__WEBPACK_IMPORTED_MODULE_2__["HttpHeaders"]()
            .set('content-type', 'application/json')
            .set('Authorization', "" + myToken)
            .set('Access-Control-Allow-Origin', '*');
        return headers;
    };
    DataService.prototype.getRequest = function (endpoint) {
        return this.http.get(this.URL + "/" + endpoint);
    };
    DataService.prototype.postRequest = function (endpoint, body) {
        // let options = this.setHeaders();
        // let requestOptions = {                                                                                                                                                                                 
        //   headers: new Headers(this.headerDict), 
        // };
        return this.http.post(this.URL + "/" + endpoint, body);
        // return this.http.post(`${this.URL_LOCAL}/${endpoint}`, body,{
        // headers: new HttpHeaders({'Content-Type': 'application/json','Access-Control-Allow-Origin': '*'})});
    };
    DataService.prototype.postpayRequest = function (endpoint, body) {
        //let options = this.setHeaders();
        //   let requestOptions = {                                                                                                                                                                                 
        //   headers: new Headers(this.headerDict), 
        // };
        return this.http.post(this.URL + "/" + endpoint, body);
        // return this.http.post(`${this.URL_LOCAL}/${endpoint}`, body,{
        //   headers: new HttpHeaders({'Content-Type': 'application/json','Access-Control-Allow-Origin': '*'})});
    };
    DataService.prototype.postFileRequest = function (endpoint, body, params) {
        return this.http.post(this.URL + "/" + endpoint, body, {
            params: params
        });
    };
    DataService.prototype.putRequest = function (endpoint, body) {
        return this.http.put(this.URL + "/" + endpoint, body);
    };
    DataService.prototype.deleteRequest = function (endpoint) {
        return this.http.delete(this.URL + "/" + endpoint);
    };
    DataService = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])({
            providedIn: 'root'
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_angular_common_http__WEBPACK_IMPORTED_MODULE_2__["HttpClient"],
            _ionic_native_network_ngx__WEBPACK_IMPORTED_MODULE_4__["Network"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_5__["Platform"]])
    ], DataService);
    return DataService;
}());



/***/ }),

/***/ "./src/app/providers/image.ts":
/*!************************************!*\
  !*** ./src/app/providers/image.ts ***!
  \************************************/
/*! exports provided: ImageProvider */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ImageProvider", function() { return ImageProvider; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _data_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./data.service */ "./src/app/providers/data.service.ts");
/* harmony import */ var _ionic_native_camera_ngx__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @ionic-native/camera/ngx */ "./node_modules/@ionic-native/camera/ngx/index.js");
/* harmony import */ var _ionic_native_file_transfer_ngx__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @ionic-native/file-transfer/ngx */ "./node_modules/@ionic-native/file-transfer/ngx/index.js");
/* harmony import */ var firebase_app__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! firebase/app */ "./node_modules/firebase/app/dist/index.cjs.js");
/* harmony import */ var firebase_app__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(firebase_app__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./config */ "./src/app/providers/config.ts");
/* harmony import */ var _angular_fire_storage__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/fire/storage */ "./node_modules/@angular/fire/storage/index.js");








/*
  Generated class for the ImageProvider provider.

  See https://angular.io/guide/dependency-injection for more info on providers
  and Angular DI.
*/
var ImageProvider = /** @class */ (function () {
    function ImageProvider(dataService, camera, fileTransfer, storage) {
        this.dataService = dataService;
        this.camera = camera;
        this.fileTransfer = fileTransfer;
        this.storage = storage;
    }
    ImageProvider.prototype.takePhoto = function (event) {
        console.log(event);
        var eventObj = event;
        var target = eventObj.target;
        var files = target.files;
        console.log(files);
        var f = files[0];
        if (f) {
            return f;
        }
        else {
            return null;
        }
    };
    ImageProvider.prototype.takePhotoNative = function (type) {
        var options = {
            quality: 100,
            sourceType: this.camera.PictureSourceType.CAMERA,
            destinationType: this.camera.DestinationType.DATA_URL,
            encodingType: this.camera.EncodingType.JPEG,
            mediaType: this.camera.MediaType.PICTURE,
            targetWidth: 1000,
            targetHeight: 1000,
            correctOrientation: true
        };
        if (type === 'gallery') {
            options.sourceType = this.camera.PictureSourceType.PHOTOLIBRARY;
        }
        return this.camera.getPicture(options);
    };
    ImageProvider.prototype.uploadToGallery = function (file, userId, file_name) {
        var _this = this;
        var fileName = file_name, storageRef, parseUpload, url;
        return new Promise(function (resolve, reject) {
            storageRef = firebase_app__WEBPACK_IMPORTED_MODULE_5__["storage"]().ref('user_files/' + +Date.now() + fileName);
            parseUpload = storageRef.putString(file, 'data_url');
            parseUpload.on('state_changed', function (_snapshot) {
            }, function (_err) {
                reject(_err);
            }, function (success) {
                storageRef.getDownloadURL().then(function (url) {
                    var myFile = {
                        filename: fileName,
                        originalname: fileName.split('.')[0],
                        url: url,
                        user: userId
                    };
                    _this.dataService.postRequest("image/", myFile)
                        .subscribe(function (res) {
                        console.log(res);
                        resolve(res);
                    }, function (err) {
                        console.log(err);
                        resolve(null);
                    });
                });
            });
        });
    };
    ImageProvider.prototype.uploadGalleryImagesBrowser = function (userId, imageName) {
        var options = {
            fileKey: 'image',
            chunkedMode: false,
            mimeType: 'multipart/form-data',
            params: { userId: userId, imageName: imageName },
        };
        return this.dataService.postRequest("image/", options);
    };
    ImageProvider.prototype.updateImage = function (image) {
        return this.dataService.putRequest("image/" + image._id, image);
    };
    ImageProvider.prototype.requestRevision = function (orderObj, image) {
        var url = _config__WEBPACK_IMPORTED_MODULE_6__["CONFIGS"].SERVER_URL + 'revision';
        var options = {
            fileKey: 'image',
            chunkedMode: false,
            mimeType: 'multipart/form-data',
            params: { order: orderObj },
        };
        console.log(options);
        var filesTransfer = this.fileTransfer.create();
        return filesTransfer.upload(image, url, options);
    };
    ImageProvider.prototype.deleteImages = function (image) {
        var _this = this;
        var storageRef = firebase_app__WEBPACK_IMPORTED_MODULE_5__["storage"]().ref('user_files/');
        var desertRef = storageRef.child(image.originalname);
        return desertRef.delete().then(function () {
            _this.dataService.deleteRequest("image/" + image._id).subscribe(function () {
            });
        });
    };
    ImageProvider = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])(),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_data_service__WEBPACK_IMPORTED_MODULE_2__["DataService"],
            _ionic_native_camera_ngx__WEBPACK_IMPORTED_MODULE_3__["Camera"],
            _ionic_native_file_transfer_ngx__WEBPACK_IMPORTED_MODULE_4__["FileTransfer"],
            _angular_fire_storage__WEBPACK_IMPORTED_MODULE_7__["AngularFireStorage"]])
    ], ImageProvider);
    return ImageProvider;
}());



/***/ }),

/***/ "./src/app/providers/loading.service.ts":
/*!**********************************************!*\
  !*** ./src/app/providers/loading.service.ts ***!
  \**********************************************/
/*! exports provided: LoadingService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LoadingService", function() { return LoadingService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/dist/fesm5.js");



var LoadingService = /** @class */ (function () {
    function LoadingService(loadingController) {
        this.loadingController = loadingController;
        this.isLoading = false;
    }
    // async presentLoading() {
    //   this.isLoading = true;
    //   this.loading = await this.loadingController.create({
    //     message: 'Loading...',
    //     duration: 5000
    //   });
    //   await this.loading.present();
    // }
    // async dismissLoading() {
    //   if (this.isLoading) {
    //     await this.loading.dismiss();
    //     this.isLoading = false;
    //   }
    // }
    LoadingService.prototype.presentLoading = function () {
        return tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"](this, void 0, void 0, function () {
            var _this = this;
            return tslib__WEBPACK_IMPORTED_MODULE_0__["__generator"](this, function (_a) {
                switch (_a.label) {
                    case 0:
                        // if(this.isLoading = true){
                        //   return await this.loadingController.dismiss().then(() => console.log('dismissed'));
                        // }
                        this.isLoading = true;
                        return [4 /*yield*/, this.loadingController.create({
                                message: 'Loading...',
                                // ,
                                duration: 5000,
                            }).then(function (a) {
                                a.present().then(function () {
                                    console.log('presented');
                                    if (!_this.isLoading) {
                                        a.dismiss().then(function () { return console.log('abort presenting'); });
                                    }
                                });
                            })];
                    case 1: return [2 /*return*/, _a.sent()];
                }
            });
        });
    };
    LoadingService.prototype.presentLoadingWithOptions = function () {
        return tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"](this, void 0, void 0, function () {
            var loading;
            return tslib__WEBPACK_IMPORTED_MODULE_0__["__generator"](this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.loadingController.create({
                            // spinner: 'dots',
                            duration: 5000,
                            backdropDismiss: true,
                            showBackdrop: false,
                            mode: 'md',
                            message: 'Loading...',
                            translucent: true,
                            cssClass: 'custom-class custom-loading'
                        })];
                    case 1:
                        loading = _a.sent();
                        return [4 /*yield*/, loading.present()];
                    case 2: return [2 /*return*/, _a.sent()];
                }
            });
        });
    };
    LoadingService.prototype.dismissLoading = function () {
        return tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"](this, void 0, void 0, function () {
            return tslib__WEBPACK_IMPORTED_MODULE_0__["__generator"](this, function (_a) {
                switch (_a.label) {
                    case 0:
                        this.isLoading = false;
                        return [4 /*yield*/, this.loadingController.dismiss().then(function () { return console.log('dismissed'); })];
                    case 1: return [2 /*return*/, _a.sent()];
                }
            });
        });
    };
    LoadingService = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])({
            providedIn: 'root'
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_ionic_angular__WEBPACK_IMPORTED_MODULE_2__["LoadingController"]])
    ], LoadingService);
    return LoadingService;
}());



/***/ }),

/***/ "./src/app/providers/order.ts":
/*!************************************!*\
  !*** ./src/app/providers/order.ts ***!
  \************************************/
/*! exports provided: OrderProvider */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "OrderProvider", function() { return OrderProvider; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _data_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./data.service */ "./src/app/providers/data.service.ts");



/*
  Generated class for the OrderProvider provider.

  See https://angular.io/guide/dependency-injection for more info on providers
  and Angular DI.
*/
var OrderProvider = /** @class */ (function () {
    function OrderProvider(dataService) {
        this.dataService = dataService;
    }
    OrderProvider.prototype.getfiletransfer = function () {
        return this.fileTransfer;
    };
    OrderProvider.prototype.settfiletransfer = function (file) {
        this.fileTransfer = file;
    };
    OrderProvider.prototype.placeOrder = function (orderObj) {
        console.log(orderObj);
        return this.dataService.postpayRequest("orders/", orderObj);
    };
    OrderProvider.prototype.acceptOrder = function (orderObj) {
        return this.dataService.putRequest("orders/" + orderObj._id, orderObj);
    };
    OrderProvider.prototype.updateOrder = function (orderObj) {
        return this.dataService.putRequest("orders/" + orderObj._id, orderObj);
    };
    OrderProvider.prototype.getOrdersFromServer = function (userId) {
        return this.dataService.getRequest("orders/" + userId);
        //return this.dataService.getRequest(`orders/mobile/${userId}`);
    };
    OrderProvider.prototype.postFeedback = function (orderObj) {
        return this.dataService.postRequest("orders/" + orderObj._id, orderObj);
    };
    OrderProvider = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])(),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_data_service__WEBPACK_IMPORTED_MODULE_2__["DataService"]])
    ], OrderProvider);
    return OrderProvider;
}());



/***/ }),

/***/ "./src/app/providers/payment.ts":
/*!**************************************!*\
  !*** ./src/app/providers/payment.ts ***!
  \**************************************/
/*! exports provided: PaymentProvider */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PaymentProvider", function() { return PaymentProvider; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _data_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./data.service */ "./src/app/providers/data.service.ts");
/* harmony import */ var src_app_providers_config__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! src/app/providers/config */ "./src/app/providers/config.ts");



//import { CONFIGS } from './config';

var PaymentProvider = /** @class */ (function () {
    function PaymentProvider(dataService) {
        this.dataService = dataService;
        //  declare var Stripe: any;
        // stripe = Stripe(CONFIGS.stripeKey);
        this.stripe = Stripe(src_app_providers_config__WEBPACK_IMPORTED_MODULE_3__["CONFIGS"].stripeKey);
        console.log('Hello PaymentProvider Provider');
    }
    PaymentProvider.prototype.makePayment = function (user, amount) {
        // user.card=" ";
        // let studentDetails = 
        // {
        //     id: 56,
        //     name: 'Test Person1',
        //     section: 'Section 1',
        //     phoneNumber: '12345678'
        //   };
        // let paymentObj = {
        //   "user":user,
        //   "amount":amount
        // }
        //let tok=CONFIGS.stripeKey;
        var tok = "tok_visa";
        var paymentObj = {
            user: user,
            amount: amount,
            tok: tok
        };
        console.log(paymentObj);
        // console.log(studentDetails[0].name);
        //return this.dataService.postpayRequest(`payments/`,JSON.stringify(paymentObj));
        return this.dataService.postpayRequest("payments", paymentObj);
        //return this.dataService.getRequest(`payments`);
        // this.dataService.postRequest(`payments`, paymentObj).subscribe((user: any) => {
        //    console.log(user);
        //    return user;
        // });
        //    console.log(i);
        // return i;
    };
    PaymentProvider.prototype.updatecredit = function (userId, source) {
        return this.dataService.putRequest("payments/updatecard/" + userId, source);
    };
    PaymentProvider = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])(),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_data_service__WEBPACK_IMPORTED_MODULE_2__["DataService"]])
    ], PaymentProvider);
    return PaymentProvider;
}());



/***/ }),

/***/ "./src/app/providers/shared.module.ts":
/*!********************************************!*\
  !*** ./src/app/providers/shared.module.ts ***!
  \********************************************/
/*! exports provided: SharedModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SharedModule", function() { return SharedModule; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
/* harmony import */ var _storage_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./storage.service */ "./src/app/providers/storage.service.ts");
/* harmony import */ var _loading_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./loading.service */ "./src/app/providers/loading.service.ts");
/* harmony import */ var _toast_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./toast.service */ "./src/app/providers/toast.service.ts");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm5/http.js");
/* harmony import */ var _data_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./data.service */ "./src/app/providers/data.service.ts");
/* harmony import */ var _ionic_storage__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @ionic/storage */ "./node_modules/@ionic/storage/fesm5/ionic-storage.js");
/* harmony import */ var _alert_service__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./alert.service */ "./src/app/providers/alert.service.ts");
/* harmony import */ var _ionic_native_file_chooser_ngx__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @ionic-native/file-chooser/ngx */ "./node_modules/@ionic-native/file-chooser/ngx/index.js");
/* harmony import */ var _ionic_native_file_ngx__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @ionic-native/file/ngx */ "./node_modules/@ionic-native/file/ngx/index.js");
/* harmony import */ var _ionic_native_file_transfer_ngx__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @ionic-native/file-transfer/ngx */ "./node_modules/@ionic-native/file-transfer/ngx/index.js");
/* harmony import */ var _ionic_native_camera_ngx__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @ionic-native/camera/ngx */ "./node_modules/@ionic-native/camera/ngx/index.js");
/* harmony import */ var _ionic_native_crop_ngx__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @ionic-native/crop/ngx */ "./node_modules/@ionic-native/crop/ngx/index.js");















var SharedModule = /** @class */ (function () {
    function SharedModule() {
    }
    SharedModule_1 = SharedModule;
    SharedModule.forRoot = function () {
        return {
            ngModule: SharedModule_1,
            providers: [
                _ionic_native_file_transfer_ngx__WEBPACK_IMPORTED_MODULE_12__["FileTransfer"],
                _ionic_native_file_chooser_ngx__WEBPACK_IMPORTED_MODULE_10__["FileChooser"],
                _ionic_native_file_ngx__WEBPACK_IMPORTED_MODULE_11__["File"],
                _ionic_native_camera_ngx__WEBPACK_IMPORTED_MODULE_13__["Camera"],
                _ionic_native_crop_ngx__WEBPACK_IMPORTED_MODULE_14__["Crop"],
                _storage_service__WEBPACK_IMPORTED_MODULE_3__["StorageService"],
                _loading_service__WEBPACK_IMPORTED_MODULE_4__["LoadingService"],
                _toast_service__WEBPACK_IMPORTED_MODULE_5__["ToastService"],
                _alert_service__WEBPACK_IMPORTED_MODULE_9__["AlertService"],
                _data_service__WEBPACK_IMPORTED_MODULE_7__["DataService"]
            ]
        };
    };
    var SharedModule_1;
    SharedModule = SharedModule_1 = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["NgModule"])({
            declarations: [],
            imports: [
                _angular_common__WEBPACK_IMPORTED_MODULE_2__["CommonModule"],
                _angular_common_http__WEBPACK_IMPORTED_MODULE_6__["HttpClientModule"],
                _ionic_storage__WEBPACK_IMPORTED_MODULE_8__["IonicStorageModule"].forRoot()
            ]
        })
    ], SharedModule);
    return SharedModule;
}());



/***/ }),

/***/ "./src/app/providers/storage.service.ts":
/*!**********************************************!*\
  !*** ./src/app/providers/storage.service.ts ***!
  \**********************************************/
/*! exports provided: StorageService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "StorageService", function() { return StorageService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _ionic_storage__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @ionic/storage */ "./node_modules/@ionic/storage/fesm5/ionic-storage.js");



var StorageService = /** @class */ (function () {
    function StorageService(storage) {
        this.storage = storage;
    }
    StorageService.prototype.get = function (key) {
        return this.storage.get(key);
    };
    StorageService.prototype.set = function (key, value) {
        return this.storage.set(key, value);
    };
    StorageService.prototype.remove = function (key) {
        return this.storage.remove(key);
    };
    StorageService = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])({
            providedIn: 'root'
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_ionic_storage__WEBPACK_IMPORTED_MODULE_2__["Storage"]])
    ], StorageService);
    return StorageService;
}());



/***/ }),

/***/ "./src/app/providers/toast.service.ts":
/*!********************************************!*\
  !*** ./src/app/providers/toast.service.ts ***!
  \********************************************/
/*! exports provided: ToastService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ToastService", function() { return ToastService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/dist/fesm5.js");



var ToastService = /** @class */ (function () {
    function ToastService(toastController) {
        this.toastController = toastController;
        this.toastMsgs = [];
    }
    ToastService.prototype.presentToast = function (message, color) {
        return tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"](this, void 0, void 0, function () {
            var toast;
            var _this = this;
            return tslib__WEBPACK_IMPORTED_MODULE_0__["__generator"](this, function (_a) {
                switch (_a.label) {
                    case 0:
                        this.toastMsgs.push(message);
                        return [4 /*yield*/, this.toastController.create({
                                message: this.toastMsgs.toString().split(",").join("\n"),
                                duration: 5000,
                                //  position:"middle",
                                position: "bottom",
                                color: color
                            })];
                    case 1:
                        toast = _a.sent();
                        toast.present();
                        toast.onDidDismiss().then(function () {
                            _this.toastMsgs = [];
                        });
                        return [2 /*return*/];
                }
            });
        });
    };
    ToastService.prototype.presentToastBottom = function (message, color) {
        return tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"](this, void 0, void 0, function () {
            var toast;
            var _this = this;
            return tslib__WEBPACK_IMPORTED_MODULE_0__["__generator"](this, function (_a) {
                switch (_a.label) {
                    case 0:
                        this.toastMsgs.push(message);
                        return [4 /*yield*/, this.toastController.create({
                                message: this.toastMsgs.toString().split(",").join("\n"),
                                duration: 5000,
                                //position:"middle",
                                position: "bottom",
                                color: color
                            })];
                    case 1:
                        toast = _a.sent();
                        toast.present();
                        toast.onDidDismiss().then(function () {
                            _this.toastMsgs = [];
                        });
                        return [2 /*return*/];
                }
            });
        });
    };
    ToastService = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])({
            providedIn: 'root'
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_ionic_angular__WEBPACK_IMPORTED_MODULE_2__["ToastController"]])
    ], ToastService);
    return ToastService;
}());



/***/ }),

/***/ "./src/app/providers/user.ts":
/*!***********************************!*\
  !*** ./src/app/providers/user.ts ***!
  \***********************************/
/*! exports provided: UserProvider */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UserProvider", function() { return UserProvider; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _data_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./data.service */ "./src/app/providers/data.service.ts");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/dist/fesm5.js");
/* harmony import */ var firebase_app__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! firebase/app */ "./node_modules/firebase/app/dist/index.cjs.js");
/* harmony import */ var firebase_app__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(firebase_app__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _angular_fire_auth__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/fire/auth */ "./node_modules/@angular/fire/auth/index.js");
/* harmony import */ var _ionic_native_google_plus_ngx__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @ionic-native/google-plus/ngx */ "./node_modules/@ionic-native/google-plus/ngx/index.js");
/* harmony import */ var _ionic_native_badge_ngx__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @ionic-native/badge/ngx */ "./node_modules/@ionic-native/badge/ngx/index.js");
/* harmony import */ var rxjs_Rx__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! rxjs/Rx */ "./node_modules/rxjs-compat/_esm5/Rx.js");
/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./config */ "./src/app/providers/config.ts");










// import {Observable} from 'rxjs/Rx';
//import { FirebaseAuthentication } from '@ionic-native/firebase-authentication/ngx';
/*
  Generated class for the UserProvider provider.

  See https://angular.io/guide/dependency-injection for more info on providers
  and Angular DI.
*/
var UserProvider = /** @class */ (function () {
    function UserProvider(dataService, badge, platform, afAuth, googleNative
    // private fAuth: FirebaseAuthentication,
    ) {
        //  this.badge.set(0);
        //this.thebudge=10;
        this.dataService = dataService;
        this.badge = badge;
        this.platform = platform;
        this.afAuth = afAuth;
        this.googleNative = googleNative;
        // googleData = {
        //     clientId: '942240372918-669v8nknrpkq02np67hkvbgf08q8jhl0.apps.googleusercontent.com',
        //     clientSecret: 'wsnVP_S43h7ZoTYVIyXdoDuH'
        //   } 
        this.googleData = _config__WEBPACK_IMPORTED_MODULE_9__["CONFIGS"].googleOAth;
        //this.budgenumber = new Subject();
        this.budgenumber = new rxjs_Rx__WEBPACK_IMPORTED_MODULE_8__["BehaviorSubject"](10);
        this._budgenumber = this.budgenumber.asObservable();
        firebase_app__WEBPACK_IMPORTED_MODULE_4__["auth"]().getRedirectResult().then(function (result) {
            if (result.credential) {
                // This gives you a Google Access Token.
                // You can use it to access the Google API.
                //var token = result.credential.accessToken;
                // The signed-in user info.
                var user = result.user;
                console.log(user);
                // ...
            }
        }).catch(function (error) {
            // Handle Errors here.
            var errorCode = error.code;
            var errorMessage = error.message;
        });
        //this.badgeset(2);
    }
    Object.defineProperty(UserProvider.prototype, "listnumber", {
        get: function () {
            return this.budgenumber;
        },
        enumerable: true,
        configurable: true
    });
    // get listnumber() {
    //     return asObservable(this.budgenumber);
    // }
    // private socialSignIn(provider): Promise<any> {
    //   if (this.platform.is('cordova')) {
    //     return firebase.auth().signInWithRedirect(provider)
    //       .then((data: any) => {
    //         return firebase.auth().getRedirectResult();
    //       });
    //   } else {
    //     return this.fAuth.signInWithGoogle(this.googleData.clientId, this.googleData.clientSecret)
    //       .then((credential) => {
    //         return credential;
    //       });
    //   }
    // }
    UserProvider.prototype.googleLogin = function () {
        return tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"](this, void 0, void 0, function () {
            return tslib__WEBPACK_IMPORTED_MODULE_0__["__generator"](this, function (_a) {
                // return this.socialSignIn(new firebase.auth.GoogleAuthProvider);
                //return this.doGoogleLogin();
                if (this.platform.is('cordova')) {
                    console.log("Native signin");
                    return [2 /*return*/, this.nativeSignIn()];
                }
                else {
                    //this.webSignIn();
                    return [2 /*return*/, this.doGoogleLogin()];
                }
                return [2 /*return*/];
            });
        });
    };
    UserProvider.prototype.doGoogleLogin = function () {
        var _this = this;
        return new Promise(function (resolve, reject) {
            var provider = new firebase_app__WEBPACK_IMPORTED_MODULE_4__["auth"].GoogleAuthProvider();
            //   firebase.auth().signInWithPopup(provider).then(function() {
            // //firebase.auth().signInWithRedirect(provider).then(function() {
            //         // return firebase.auth().getRedirectResult();
            //        }).then(function(result) {
            //          // This gives you a Google Access Token.
            //          // You can use it to access the Google API.
            //          //var token = result.credential.accessToken;
            //          // The signed-in user info.
            //          var user = result.user;
            //          resolve(result);
            //          // ...
            //        }).catch(function(error) {
            //          // Handle Errors here.
            //          var errorCode = error.code;
            //          var errorMessage = error.message;
            //        });
            provider.addScope('profile');
            provider.addScope('email');
            _this.afAuth.auth
                .signInWithPopup(provider)
                .then(function (res) {
                console.log(res);
                resolve(res);
            });
        });
    };
    UserProvider.prototype.badgeset = function (num) {
        return tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"](this, void 0, void 0, function () {
            var x, budges, no;
            return tslib__WEBPACK_IMPORTED_MODULE_0__["__generator"](this, function (_a) {
                console.log("setting budge number");
                x = parseInt(num, 10);
                console.log(x);
                this.badge.set(x);
                //let budges= await this.badge.get();
                this.thebudge = num;
                budges = this.thebudge;
                console.log(budges);
                no = parseInt(budges, 10);
                console.log(no);
                this.budgenumber.next(no); //next method updates the stream value
                return [2 /*return*/];
            });
        });
    };
    UserProvider.prototype.badgeincrement = function () {
        return tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"](this, void 0, void 0, function () {
            var bj, budges;
            return tslib__WEBPACK_IMPORTED_MODULE_0__["__generator"](this, function (_a) {
                console.log("setting budge increment");
                bj = parseInt(this.thebudge, 10);
                console.log(bj);
                budges = (bj + 1);
                this.thebudge = budges;
                console.log(budges);
                //let no=parseInt(budges, 10);
                this.budgenumber.next(budges); //next method updates the stream value
                return [2 /*return*/];
            });
        });
    };
    UserProvider.prototype.badgeclear = function () {
        return tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"](this, void 0, void 0, function () {
            var budges, no;
            return tslib__WEBPACK_IMPORTED_MODULE_0__["__generator"](this, function (_a) {
                switch (_a.label) {
                    case 0:
                        this.badge.clear();
                        return [4 /*yield*/, this.badge.get()];
                    case 1:
                        budges = _a.sent();
                        //this.thebudge=0;
                        //let budges= this.thebudge;
                        console.log(budges);
                        no = parseInt(budges, 10);
                        this.budgenumber.next(no); //next method updates the stream value
                        return [2 /*return*/];
                }
            });
        });
    };
    // signIn() {
    //   if (this.platform.is('cordova')) {
    //     this.nativeSignIn();
    //   } else {
    //     this.webSignIn();
    //   }
    // }
    UserProvider.prototype.nativeSignIn = function () {
        return tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"](this, void 0, void 0, function () {
            var _this = this;
            return tslib__WEBPACK_IMPORTED_MODULE_0__["__generator"](this, function (_a) {
                console.log("In native sign in ");
                console.log(this.googleData.clientId);
                return [2 /*return*/, new Promise(function (resolve, reject) {
                        var provider = new firebase_app__WEBPACK_IMPORTED_MODULE_4__["auth"].GoogleAuthProvider();
                        _this.googleNative.login({
                            'webClientId': _this.googleData.clientId,
                            'offline': true
                        }).then(function (res) {
                            //console.log();
                            console.log(res);
                            var googleCredential = firebase_app__WEBPACK_IMPORTED_MODULE_4__["auth"].GoogleAuthProvider
                                .credential(res.idToken);
                            _this.afAuth.auth.signInWithCredential(googleCredential)
                                .then(function (response) {
                                console.log("Firebase success: " + JSON.stringify(response));
                                resolve(response);
                            });
                        }, function (err) {
                            console.error("Error: ", err);
                            reject(err);
                        });
                    })];
            });
        });
    };
    // async nativeSignIn() {
    //     try {
    //       const credentials = await this.googleNative.login({
    //         'webClientId':this.googleData.clientId
    //       });
    //      return  await this.afAuth.auth.signInWithCredential(
    //         firebase.auth.GoogleAuthProvider.credential(credentials.idToken)
    //       );
    //     } catch (e) {
    //       console.log(e);
    //     }
    //   }
    // async webSignIn() {
    //   try {
    //     await this.afAuth.auth.signInWithPopup(new firebase.auth.GoogleAuthProvider());
    //   } catch(e) {
    //     console.log(e)
    //   }
    // }
    UserProvider.prototype.signOut = function () {
        this.afAuth.auth.signOut();
        if (this.platform.is('android')) {
            this.googleNative.logout();
        }
    };
    //   doGoogleLogin(){
    //   return new Promise<any>((resolve, reject) => {
    //    let provider = new firebase.auth.GoogleAuthProvider();
    //     provider.addScope('profile');
    //     provider.addScope('email');
    //     this.afAuth.auth
    //     .signInWithPopup(provider)
    //     .then(res => {
    //       console.log(res);
    //       resolve(res);
    //     })
    //   })
    // }
    //   loginUser(): Promise<any>  {
    //     let prom:any;
    //   this.googlePlus.login({
    //     'webClientId': '942240372918-669v8nknrpkq02np67hkvbgf08q8jhl0.apps.googleusercontent.com',
    //     'offline': true
    //   }).then( res => {
    //           const googleCredential = firebase.auth.GoogleAuthProvider
    //               .credential(res.idToken);
    //           firebase.auth().signInWithCredential(googleCredential)
    //         .then( response => {
    //           prom= response;
    //             console.log("Firebase success: " + JSON.stringify(response))
    //         });
    //   }, err => {
    //      prom= err;
    //       console.error("Error: ", err)
    //   });
    //   return prom;
    // }
    UserProvider.prototype.emailLogin = function (tok) {
        return this.dataService.getRequest('users/');
    };
    UserProvider.prototype.getinbox = function (userId) {
        //this.budgenumber=21;
        return this.dataService.getRequest("inbox/" + userId);
    };
    UserProvider.prototype.getvector = function (orderId) {
        //this.budgenumber=21;
        return this.dataService.getRequest("vectors/" + orderId);
    };
    UserProvider.prototype.sendinbox = function (data) {
        console.log("user inbox sending");
        console.log(data);
        return this.dataService.postRequest('inbox/', data);
    };
    UserProvider.prototype.getcoupons = function () {
        //this.budgenumber=21;
        return this.dataService.getRequest('coupons/');
    };
    UserProvider.prototype.applycoupon = function (userId, coupon) {
        return this.dataService.putRequest("coupons/applydiscount/" + userId, coupon);
    };
    UserProvider.prototype.byemailLogin = function (email) {
        return this.dataService.getRequest("users/byemail/" + email);
    };
    UserProvider.prototype.getUser = function (userId) {
        return this.dataService.getRequest("users/" + userId);
    };
    UserProvider.prototype.emailRegister = function (userObj, tok) {
        //public emailRegister(userObj: any) {
        return this.dataService.postRequest('users/', userObj);
    };
    UserProvider.prototype.forgotPassword = function (email) {
        return this.dataService.postRequest('forget-password/', email);
    };
    UserProvider.prototype.addCardDetails = function (card, userId) {
        return this.dataService.putRequest("users/createcard/" + userId, card);
    };
    UserProvider.prototype.registerToken = function (token, userId) {
        return this.dataService.putRequest("users/" + userId, token);
    };
    UserProvider.prototype.updatecredit = function (source, userId) {
        return this.dataService.putRequest("users/updatecard/" + userId, source);
    };
    UserProvider.prototype.deleteCardDetails = function (user) {
        return this.dataService.putRequest("users/" + user.uid, user);
    };
    UserProvider.prototype.deletePhoneDetails = function (user) {
        return this.dataService.putRequest("users/" + user.uid, user);
    };
    UserProvider.prototype.addPhoneDetails = function (user, userId) {
        //console.log(user.uid);
        return this.dataService.putRequest("users/phone/" + userId, user);
    };
    UserProvider.prototype.addCompanyDetails = function (user, userId) {
        //console.log(user.uid);
        return this.dataService.putRequest("users/company/" + userId, user);
    };
    UserProvider.prototype.postToken = function (token, userId) {
        var data = { token: token, userId: userId };
        return this.dataService.putRequest("store_token/", data);
    };
    UserProvider.prototype.checkAndUpdate = function (user) {
        return this.dataService.postRequest("users/", user);
    };
    UserProvider = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])(),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_data_service__WEBPACK_IMPORTED_MODULE_2__["DataService"],
            _ionic_native_badge_ngx__WEBPACK_IMPORTED_MODULE_7__["Badge"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_3__["Platform"],
            _angular_fire_auth__WEBPACK_IMPORTED_MODULE_5__["AngularFireAuth"],
            _ionic_native_google_plus_ngx__WEBPACK_IMPORTED_MODULE_6__["GooglePlus"]
            // private fAuth: FirebaseAuthentication,
        ])
    ], UserProvider);
    return UserProvider;
}());



/***/ }),

/***/ "./src/environments/environment.ts":
/*!*****************************************!*\
  !*** ./src/environments/environment.ts ***!
  \*****************************************/
/*! exports provided: environment */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "environment", function() { return environment; });
// This file can be replaced during build by using the `fileReplacements` array.
// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.
// The list of file replacements can be found in `angular.json`.
var environment = {
    // production: false
    production: true
};
/*
 * For easier debugging in development mode, you can import the following file
 * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.
 *
 * This import should be commented out in production mode because it will have a negative impact
 * on performance if an error is thrown.
 */
// import 'zone.js/dist/zone-error';  // Included with Angular CLI.


/***/ }),

/***/ "./src/main.ts":
/*!*********************!*\
  !*** ./src/main.ts ***!
  \*********************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_platform_browser_dynamic__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/platform-browser-dynamic */ "./node_modules/@angular/platform-browser-dynamic/fesm5/platform-browser-dynamic.js");
/* harmony import */ var _app_app_module__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./app/app.module */ "./src/app/app.module.ts");
/* harmony import */ var _environments_environment__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./environments/environment */ "./src/environments/environment.ts");




if (_environments_environment__WEBPACK_IMPORTED_MODULE_3__["environment"].production) {
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["enableProdMode"])();
}
Object(_angular_platform_browser_dynamic__WEBPACK_IMPORTED_MODULE_1__["platformBrowserDynamic"])().bootstrapModule(_app_app_module__WEBPACK_IMPORTED_MODULE_2__["AppModule"])
    .catch(function (err) { return console.log(err); });


/***/ }),

/***/ 0:
/*!***************************!*\
  !*** multi ./src/main.ts ***!
  \***************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__(/*! E:\CRYPTO SYSTEMS\Projects\snap2vector\mobile_application2\src\main.ts */"./src/main.ts");


/***/ })

},[[0,"runtime","vendor"]]]);
//# sourceMappingURL=main.js.map